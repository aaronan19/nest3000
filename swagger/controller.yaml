swagger: '2.0'
info:
  title: eNMS Controller APIs
  description: eNMS Controller APIs [@NSB]
  version: 1.0.1
basePath: /
schemes:
  - http
  - https

tags:
  - name: conf
    # externalDocs:
    #   url: http://docs.my-api.com/pet-operations.htm
  - name: alarm
  - name: pm
  - name: report
  - name: secu
  - name: system
  - name: topo

################################################################
# Path
################################################################
paths:
  # TODO: To be removed
  #-------------------------------------------------------------
  # eNMS System APIs
  #-------------------------------------------------------------
  # '/enms/version':
  #   get:
  #     tags:
  #       - system
  #       - FAD.SKIP:R
  #     produces:
  #       - application/json
  #     operationId: getVersion
  #     responses:
  #       '200':
  #         description: OK
  #         schema:
  #           $ref: '#/definitions/Version'
  #       '500':
  #         description: eNMS Error
  #         schema:
  #           $ref: '#/definitions/ErrorInfo'

  '/enms/conf/layerrate':
    get:
      tags:
        - system
        - FAD.SKIP:R
        - enms
      summary: 查询eNMS支持的层速率
      description: |
        查询eNMS支持的层速率。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 无 | 不控制 |
      produces:
        - application/json
      operationId: getLayerrateDef
      responses:
        '200':
          description: OK
          schema:
            type: string
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/enms/conf/ne_families':
    get:
      tags:
        - system
        - FAD.SKIP:R 
        - enms
      summary: 查询eNMS支持的网元家族
      description: |
        网元家族为网元的大类。目前支持
        [cols="1,2", options="header"] 
        .网元家族
        |===
        | 网元家族 
        | 网元类型

        | 1830PSS 
        | 1830PSS-4  
          1830PSS-8  
          1830PSS-16  
          1830PSS-32
        |===

        ***网元类型为只读属性，由eNMS从网元查询。***

        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 无 | 不控制 |
      produces:
        - application/json
      operationId: getSupportedNeFamilies
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              type: string
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/enms/conf/errorcode':
    get:
      tags:
        - system
        - FAD.SKIP:R 
        - enms
      summary: 查询eNMS系统的错误代码。
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 无 | 不控制 |
      produces:
        - application/json
      operationId: getErrorCodeDef
      responses:
        '200':
          description: OK
          schema:
            type: string
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
          
  '/enms/ping':
    post:
      tags:
        - system
        - FAD.SKIP:R 
        - enms
      summary: eNMS Ping
      description: |
        eNMS Ping用于检查RESTful是否正常工作。服务端简单返回成功，表示RESTful接口正常工作。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 无 | 不控制 |
      produces:
        - application/json
      operationId: ping
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/enms/wsstate':
    get:
      tags:
        - system
        - FAD.SKIP:R 
        - enms
      summary: eNMS wsstate
      description: |
        eNMS wsstate用于检查controller的消息客户端是否已连上消息服务端
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 无 | 不控制 |
      produces:
        - application/json
      operationId: isWSConnected
      responses:
        '200':
          description: OK
          schema:
            type: boolean
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
            
  #-------------------------------------------------------------
  # Business APIs
  #-------------------------------------------------------------
  '/nodes':
    get:
      tags:
        - conf
        - FAD.CONF.NODE:R
        - enms
      summary: 查询节点列表
      produces:
        - application/json
      description: |
        查询节点列表。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.节点管理 | 只读 |
      operationId: getNodes
      parameters:
        - name: page
          in: query
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          required:  false
          type: integer
          format: int32
          default: 20
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Node'
        500:
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - conf
        - FAD.CONF.NODE:RW
        - enms
      produces:
        - application/json
      summary: 创建新节点
      description: |
        创建新节点。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.节点管理 | 读写 |
      operationId: addNode
      parameters:
        - name: node
          description: |
            需要提供
              * 节点名字
              * 节点类型
              * 版本
              * 可用状态
              * 管理的网元列表（可选）
          in: body
          required: true
          schema:
            $ref: '#/definitions/Node'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Node'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf
        - FAD.CONF.NODE:RW
        - enms
      produces:
        - application/json
      consumes:
        - application/json
      summary: 删除节点
      description: |
        删除指定节点只能在该节点没有管理任何网元的情况下进行删除。该操作支持一次删除多个节点。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.节点管理 | 读写 |
      operationId: deleteNodes
      parameters:
        - name: ids
          description: Node Id列表
          in: body
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nodes/user_label':
    post:
      tags:
        - conf
        - FAD.CONF.NODE:R
        - enms
      produces:
        - application/json
      summary: 检查Node的名字是否合法
      description: |
        Node的名字不能重复，最长由64个可见字符或32个中文字符组成。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.节点管理 | 只读 |
      operationId: checkNodeUserLabel
      parameters:
        - name: userLabel
          in: body
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nodes/{id}':
    get:
      tags:
        - conf
        - FAD.CONF.NODE:R
        - enms
      produces:
        - application/json
      summary: 查询指定的Node
      description: |
        通过Node的ID来查询特定的Node。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.节点管理 | 只读 |
      operationId: getNodeById
      parameters:
        - name: id
          required: true
          in: path
          type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Node'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nodes/filter':
    post:
      tags:
        - conf
        - FAD.CONF.NODE:R
        - enms
      produces:
        - application/json
      summary: 过滤节点列表
      description: |
        按过滤条件查询节点列表。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.节点管理 | 只读 |
      operationId: getNodesByFilter
      parameters:
        - name: filter
          required: true
          in: body
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          required:  false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Node'
  '/nodes/{id}/userLabel/{userLabel}':
    put:
      tags:
        - conf
        - FAD.CONF.NODE:RW
        - enms
      produces:
        - application/json
      summary: 修改节点名字
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.节点管理 | 读写 |
      operationId: updateUserLabel
      parameters:
        - name: id
          required: true
          in: path
          type: string
        - name: userLabel
          description: Node的名字不能重复，不能为空，并且最长由64个可见字符或32个中文字符组成。
          in: path
          required: true
          type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nodes/{id}/version/{version}':
    put:
      tags:
        - conf
        - FAD.CONF.NODE:RW
        - enms
      produces:
        - application/json
      summary: 修改节点版本
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.节点管理 | 读写 |
      operationId: updateVersion
      parameters:
        - name: id
          required: true
          in: path
          type: string
        - name: version
          in: path
          required: true
          type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nodes/{id}/availableState/{state}':
    put:
      tags:
        - conf
        - FAD.CONF.NODE:RW
        - enms
      produces:
        - application/json
      summary: 修改节点可用状态
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.节点管理 | 读写 |
      operationId: updateNodeAvailableState
      parameters:
        - name: id
          description: 节点Id
          required: true
          in: path
          type: string
        - name: state
          description: |
            节点状态
              * 可用 (AVAILABLE)
              * 不可用 (UNAVAILABLE)
          in: path
          required: true
          type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nodes/{id}/nes':
    get:
      tags:
        - conf
        - FAD.CONF.NODE:RW
        - enms
      produces:
        - application/json
      summary: 查询节点管理的网元列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.节点管理 | 只读 |
      operationId: getNesByNodeId
      parameters:
        - name: id
          description: 节点Id
          required: true
          in: path
          type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Ne'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - conf
        - FAD.CONF.NODE:RW
        - enms
      produces:
        - application/json
      summary: 添加网元到节点进行管理
      description: |
        一个网元同一时间只能被一个节点管理。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.节点管理 | 读写 |
      operationId: addNesToNode
      parameters:
        - name: id
          description: 节点Id
          required: true
          in: path
          type: string      
        - name: neIds
          description: 添加到节点的网元Id列表
          required: true
          in: body
          schema: 
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Node'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf
        - FAD.CONF.NODE:RW
        - enms
      produces:
        - application/json
      consumes:
        - application/json
      summary: 把网元从Node中删除
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.节点管理 | 读写 |     
      operationId: deleteNesFromNode
      parameters:
        - name: id
          description: 节点Id
          required: true
          in: path
          type: string        
        - name: neIds
          description: 网元Id列表
          required: true
          in: body
          schema: 
            type: array
            items:
              type: string            
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Node'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes':
    get:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 查询NE列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |
      produces:
        - application/json
      operationId: getNes
      parameters:
        - name: page
          in: query
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Ne'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - conf      
        - FAD.CONF.NE:RW
        - enms
      summary: 新建网元
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: addNe
      parameters:
        - name: ne
          description: |
            新建网元需要提供         
              * 网元名字 (Ne.userLabel)
              * 网元家族 (Ne.neFamily)，通过 **GET /enms/conf/ne_families** 得到支持的网元家族列表。
              * 网元状态
                * 监控和同步状态都不设置，仅仅在网管创建网元，不会进行监控和同步操作。
                * 监控 (Ne.supervisionState)：和网元建立通信通道
                * 同步 (Ne.alignmentState)：监控并同步网元数据
              * 地址 (Ne.address)。SNMP网元提供IP地址及端口
              * NAD域Id列表（可选）：使能NAD的场景下，选择网元所属的管理域。
          in: body
          required: true
          schema:
            $ref: '#/definitions/Ne'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Ne'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf
        - FAD.CONF.NE:RW
        - enms
      summary: 删除网元
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: deleteNes
      parameters:
        - name: ne
          description: 网元Id列表 
          in: body
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/filter':
    post:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 过滤网元列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |
      produces:
        - application/json
      operationId: getNesByFilter
      parameters:
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
        - name: filter
          in: body
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Ne'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/layer_rate/{layerRates}':
    get:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 查询支持特定层速率的网元列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |
      produces:
        - application/json
      operationId: getNesByLayerRate
      parameters:
        - name: layerRates
          in: path
          description: |
            以逗号分隔的层速率列表，**值之间不能留空格**。支持的层速率可以通过“**GET /enms/conf/layerrate**”得到。
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Ne'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/layer_rate/{layerRates}/{supportedRates}':
    get:
      tags:
        - conf     
        - FAD.CONF.NE:R
        - enms
      summary: 获得C口支持特定层速率的网元列表
      description: |
        该方法用于获的创建C口业务的网元列表。在支持特定层速率的网元列表中过滤出C口支持特定速率的网元。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |
      produces:
        - application/json
      operationId: getNesBySupportedRate
      parameters:
        - name: layerRates
          in: path
          description: |
            以逗号分隔的层速率列表，**值之间不能留空格**。支持的层速率可以通过“**GET /enms/conf/layerrate**”得到。
          required: true
          type: string
        - name: supportedRates
          in: path
          description: C口支持的速率
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Ne'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/pgs/y_cable':
    get:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 查询支持Y-Cable保护的网元列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |
      produces:
        - application/json
      operationId: getNesSupportedYCable
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Ne'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/layer_rate/{layerRates}/{supportedRates}/pgs/y_cable':
    get:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 查询支持特定速率Y-Cable保护的网元列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |
      produces:
        - application/json
      operationId: getNesSupportedYCableByLayerRates
      parameters:
        - name: layerRates
          description: |
            以逗号分隔的层速率列表，**值之间不能留空格**。支持的层速率可以通过“**GET /enms/conf/layerrate**”得到。
          in: path
          required: true
          type: string
        - name: supportedRates
          in: path
          description: C口速率
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Ne'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/supervision':
    post:
      tags:
        - conf      
        - FAD.CONF.NE:RW
        - enms
      summary: 监控网元
      description: |
        eNMS与网元建立网络连接，包括网元操作和通知通道。监控成功后，网元状态将变为*监控中*。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      operationId: superviseNes
      parameters:
        - name: ids
          in: body
          description: 网元Id列表
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf      
        - FAD.CONF.NE:RW
        - enms
      summary: 停止监控网元
      description: |
        停止监控后，网元状态将变为未监控。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      operationId: unsuperviseNes
      parameters:
        - name: ids
          in: body
          description: 网元Id列表
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/supervision/force':
    delete:
      tags:
        - conf      
        - FAD.CONF.NE:RW
        - enms
      summary: 强制停止监控网元
      description: |
        停止监控后，网元状态将变为未监控。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      operationId: unsuperviseNesByForce
      parameters:
        - name: ids
          in: body
          description: 网元Id列表
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/alignment':
    post:
      tags:
        - conf      
        - FAD.CONF.NE:RW
        - enms
      summary: 同步网元数据
      description: |
        同步操作只能对不一致的网元进行。
        | 网元起始状态 | 操作 |
        | - | - |
        | 未监控 | eNMS将先自动监控网元，然后同步数据 |
        | 不一致 | eNMS将同步网元数据，并更新本地数据库 |
        同步结束后网元状态将变为一致。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      operationId: alignNes
      parameters:
        - name: ids
          in: body
          description: 网元Id列表。
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  # TODO：to be removed
  # --------------------------
  # '/nes/bandwidth/nes/{neId}/tps/{tpId}':
  #   get:
  #     tags:
  #       - conf
  #       - FAD.CONF.NE:R   
  #       - enms
  #     summary: Get bandwidth On Tp
  #     description: Get bandwidth On Tp
  #     produces:
  #       - application/json
  #     operationId: getBandwidthOnTp
  #     parameters:
  #       - name: neId
  #         in: path
  #         type: string
  #         required: true
  #         description: NE ID
  #       - name: tpId
  #         in: path
  #         type: string
  #         required: true
  #         description: TP ID
  #     responses:
  #       '200':
  #         description: OK
  #         schema:
  #           type: array
  #           items:
  #             type: string
  #       '500':
  #         description: Internal Error
  #         schema:
  #           $ref: '#/definitions/ErrorInfo'
  '/nes/{neId}':
    get:
      tags:
        - conf
        - FAD.CONF.NE:R   
        - enms
      summary: 查询网元
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |
      produces:
        - application/json
      operationId: getNeById
      parameters:
        - in: path
          name: neId
          description: 网元Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Ne'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    put:
      tags:
        - conf      
        - FAD.CONF.NE:RW
        - enms
      summary: 修改网元
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      operationId: updateNeById
      parameters:
        - name: neId
          in: path
          description: 网元Id
          required: true
          type: string
        - name: data
          in: body
          description: 需要修改的网元属性，以键值对的方式提供。
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Ne'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf
        - FAD.CONF.NE:RW   
        - enms
      summary: 删除网元
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      operationId: deleteNe
      parameters:
        - in: path
          name: neId
          description: 网元Id
          required: true
          type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/nes/{neId}/tags':
    post:
      tags:
        - conf
        - FAD.CONF.NE:RW   
        - enms
      summary: 添加网元标签
      description: |
        网元支持最多10个标签，每个标签最长为64个英文字符或32个中文字符。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      operationId: addNETag
      parameters:
        - name: neId
          description: 网元Id
          in: path
          required: true
          type: string
        - name: tag
          in: body
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Ne'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf
        - FAD.CONF.NE:RW
        - enms
      summary: 删除网元标签
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      operationId: deleteNETag
      parameters:
        - name: neId
          description: 网元Id
          in: path
          required: true
          type: string
        - name: tag
          in: body
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Ne'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/{neId}/ris':
    get:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 查询网元信息
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |
      produces:
        - application/json
      operationId: getNeRIs
      parameters:
        - name: neId
          in: path
          description: 网元Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/RIInfo'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/{neId}/ris/{eqptid}':
    get:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 查询设备信息
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |
      produces:
        - application/json
      operationId: getNeRIById
      parameters:
        - name: neId
          description: 网元Id
          in: path
          required: true
          type: string
        - name: eqptid
          description: 设备Id
          in: path
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/RIInfo'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/{neId}/supervision':
    post:
      tags:
        - conf      
        - FAD.CONF.NE:RW
        - enms
      summary: 监控网元
      description: |
        eNMS与网元建立网络连接，包括网元操作和通知通道。监控成功后，网元状态将变为*监控中*。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      operationId: superviseNe
      parameters:
        - name: neId
          in: path
          description: 网元Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf      
        - FAD.CONF.NE:RW
        - enms
      summary: 停止监控网元
      description: |
        停止监控后，网元状态将变为未监控。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      operationId: unsuperviseNe
      parameters:
        - name: neId
          in: path
          description: 网元Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/{neId}/swlist':
    get:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 查询可用于网元升级的软件版本
      description: |
        网元软件存放在指定FTP服务器，该API用户查询所有网元软件中可用于当前网元的软件版本。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |
      produces:
        - application/json
      operationId: getNeSwList
      parameters:
        - in: path
          name: neId
          description: 网元Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              type: string
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/{neId}/swupgrade':
    get:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 查询网元升级状态
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |
      produces:
        - application/json
      operationId: getSwUpgradeStatusByNeId
      parameters:
        - in: path
          name: neId
          description: 网元Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/SwUpgradeStatus'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - conf      
        - FAD.CONF.NE:RW
        - enms
      summary: 设置网元升级参数
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: setSwUpgradeParamsByNeId
      parameters:
        - name: neId
          in: path
          description: 网元Id
          required: true
          type: string
        - name: params
          in: body
          description: 网元升级信息，包括FTP配置信息，软件版本等。
          required: true
          schema:
            $ref: '#/definitions/SwUpgradeParams'
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    put:
      tags:
        - conf      
        - FAD.CONF.NE:RW
        - enms
      summary: 执行网元升级
      description: |
        网元升级过程包括两个步骤
        | 步骤 | 描述 |
        | -- | -- |
        | 软件下载和确认（commit） | 软件下周过程中可以终止软件升级过程（abort）。如果软件下载结束，不能被终止。 |
        | 激活（active） | 激活新版本之前可以直接回滚（revert）到老版本。激活后将不能进行回滚。 |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: runSwUpgradeCommand
      parameters:
        - name: neId
          in: path
          description: 网元Id
          required: true
          type: string
        - name: command
          in: body
          description: |
            支持的命令包括
            * 终止（abort）
            * 回滚（revert）
            * 确认（commit）
            * 激活 （active）
          required: true
          schema:
            $ref: '#/definitions/SwUpgradeCmd'
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/{neId}/alignment':
    post:
      tags:
        - conf      
        - FAD.CONF.NE:RW
        - enms
      summary: 同步网元
      description: |
        同步操作只能对不一致的网元进行。
        | 网元起始状态 | 操作 |
        | - | - |
        | 未监控 | eNMS将先自动监控网元，然后同步数据 |
        | 不一致 | eNMS将同步网元数据，并更新本地数据库 |
        同步结束后网元状态将变为一致。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      operationId: alignNe
      parameters:
        - name: neId
          in: path
          description: 网元Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/{neId}/userlabel':
    put:
      tags:
        - conf      
        - FAD.CONF.NE:RW
        - enms
      summary: 更新网元名字
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      operationId: updateNeUserLabel
      parameters:
        - name: neId
          in: path
          description: 网元Id
          required: true
          type: string
        - name: userLabel
          in: body
          description: 网元名字
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/{neId}/nativename':
    put:
      tags:
        - conf      
        - FAD.CONF.NE:RW
        - enms
      summary: 更新网元标识
      description: |
        网元标识只支持英文字符，将会被写入网元。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |      
      produces:
        - application/json
      operationId: updateNeNativeName
      parameters:
        - name: neId
          in: path
          description: 网元Id
          required: true
          type: string
        - name: name
          description: 网元标识
          in: body
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/nes/{neId}/xcs':
    get:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 查询网元上的交叉连接
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |            
      produces:
        - application/json
      operationId: getXcsByNeId
      parameters:
        - in: path
          name: neId
          description: 网元Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Xc'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/{neId}/xcs/filter':
    post:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 过滤网元上的交叉连接
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |            
      produces:
        - application/json
      operationId: getXcsByFilter
      parameters:
        - in: path
          name: neId
          description: 网元Id
          required: true
          type: string
        - in: body
          name: filter
          description: 键值对
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Xc'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  # TODO: To be removed
  # --------------------------------------
  # '/nes/{neId}/xcs/{xcId}':
  #   get:
  #     tags:
  #       - conf
  #       - FAD.CONF.NE:R
  #       - enms
  #     summary: 查询交叉连接
  #     description: |
  #       ##### FAD控制
  #       | FAD域 | 权限 |
  #       | ----- | ---- |
  #       | 配置.网元管理 | 只读 |      
  #     produces:
  #       - application/json
  #     operationId: getXcById
  #     parameters:
  #       - name: neId
  #         in: path
  #         description: 网元Id
  #         required: true
  #         type: string
  #       - in: path
  #         name: xcId
  #         description: 交叉连接Id
  #         required: true
  #         type: string
  #     responses:
  #       '200':
  #         description: successful operation
  #         schema:
  #           $ref: '#/definitions/Xc'
  #       '500':
  #         description: Internal Error
  #         schema:
  #           $ref: '#/definitions/ErrorInfo'
  #   delete:
  #     tags:
  #       - conf
  #       - FAD.CONF.NE:RW
  #       - enms
  #     summary: 删除交叉连接
  #     description: |
  #       'After audit, find this XC is only existed in NE, and confirmed it canbe removed'
  #       ##### FAD控制
  #       | FAD域 | 权限 |
  #       | ----- | ---- |
  #       | 配置.网元管理 | 读写 |      
  #     produces:
  #       - application/json
  #     operationId: deleteXc
  #     parameters:
  #       - name: neId
  #         in: path
  #         description: ID of NE that needs to be fetched
  #         required: true
  #         type: string
  #       - in: path
  #         name: xcId
  #         description: The XC ID that needs to be deleted
  #         required: true
  #         type: string
  #     responses:
  #       '200':
  #         description: OK
  #       '500':
  #         description: Internal Error
  #         schema:
  #           $ref: '#/definitions/ErrorInfo'
            
  '/nes/{neId}/pgs':
    get:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 查询网元上的保护组
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |            
      produces:
        - application/json
      operationId: getPgsByNeId
      parameters:
        - in: path
          name: neId
          description: 网元Id
          required: true
          type: string
      responses:
        '200':
          description: 保护组列表
          schema:
            type: array
            items:
              $ref: '#/definitions/Pg'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/{neId}/pgs/filter':
    post:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 过滤网元上的保护组
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |            
      produces:
        - application/json
      operationId: getPgsByFilter
      parameters:
        - in: path
          name: neId
          description: 网元Id
          required: true
          type: string
        - in: body
          name: filter
          description: 键值对
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Pg'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/{neId}/pgs/{pgId}':
    get:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 查询保护组
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |            
      produces:
        - application/json
      operationId: getPgById
      parameters:
        - name: neId
          in: path
          description: 网元Id
          required: true
          type: string
        - in: path
          name: pgId
          description: 保护组Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Pg'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  # TODO: To be removed
  # --------------------------------------
  #   delete:
  #     tags:
  #       - conf
  #       - FAD.CONF.NE:RW
  #       - enms
  #     summary: 删除保护组
  #     description: 'After audit, find this PG is only existed in NE, and confirmed it canbe removed'
  #     produces:
  #       - application/json
  #     operationId: deletePg
  #     parameters:
  #       - name: neId
  #         in: path
  #         description: ID of NE that needs to be fetched
  #         required: true
  #         type: string
  #       - in: path
  #         name: pgId
  #         description: The PG ID that needs to be deleted
  #         required: true
  #         type: string
  #     responses:
  #       '200':
  #         description: OK
  #       '500':
  #         description: Internal Error
  #         schema:
  #           $ref: '#/definitions/ErrorInfo'
  '/nes/{neId}/pgs/{pgId}/switch/{command}':
    post:
      tags:
        - conf      
        - FAD.CONF.NE:RW
        - enms
      summary: 执行保护倒换
      description: |
        对网元上的单个PG执行倒换会导致相关的业务发送保护倒换。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |   
      produces:
        - application/json
      operationId: protectionSwitch
      parameters:
        - name: neId
          description: 网元Id
          in: path
          required: true
          type: string
        - name: pgId
          description: 保护组Id
          in: path
          required: true
          type: string
        - name: command
          description: |
            倒换命令
              * normal
              * automatical
              * lockout
              * force
              * manual
              * exercise
              * lockoutWest
              * forceWest
              * manualWest
              * exerciseWest
              * lockoutEast
              * forceEast
              * manualEast
              * exerciseEast
          in: path
          required: true
          type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
            
  '/nes/mibs':
    post:
      tags:
        - conf
        - FAD.CONF.NE:RW
        - enms
      summary: 网元MIB备份
      description: |
        网元MIB备份到FTP服务器上。FTP服务信息记录在eNMS的配置文件中。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |   
      produces:
        - application/json
      operationId: backupNesMIB
      parameters:
        - name: ids
          required: true
          description: 网元Id列表
          in: body
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/{id}/mibs':
    get:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 查询网元备份
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 只读 |   
      produces:
        - application/json
      operationId: getNeMIBs
      parameters:
        - name: id
          required: true
          description: 网元Id
          in: path
          type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              type: string
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf
        - FAD.CONF.NE:RW
        - enms
      summary: 删除网元MIB备份
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |   
      produces:
        - application/json
      operationId: deleteNeMIBs
      parameters:
        - name: id
          required: true
          description: 网元Id
          in: path
          type: string
        - name: mibNames
          required: true
          description: MIB备份列表
          in: body
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nes/{id}/mibs/{mibName}':
    put:
      tags:
        - conf
        - FAD.CONF.NE:RW
        - enms
      summary: 恢复网元MIB
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |   
      produces:
        - application/json
      operationId: restoreNeMIB
      parameters:
        - name: id
          required: true
          description: 网元Id
          in: path
          type: string
        - name: mibName
          required: true
          description: MIB备份名字
          in: path
          type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/nes/sysDateTime':
    post:
      tags:
        - conf
        - FAD.CONF.NE:R
        - enms
      summary: 获取所有网元实时时间
      description: Returns the NE date and time
      produces:
        - application/json
      operationId: getNesDateTime
      parameters:
        - name: ids
          in: body
          description: 网元Id列表。
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/KVPaires'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/equipments':
    post:
      tags:
        - conf      
        - FAD.CONF.EQPT:RW
        - enms
      summary: 新建设备（当前版本不支持）
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.设备管理 | 读写 |   
      produces:
        - application/json
      consumes:
        - application/json
      operationId: addEquipment
      parameters:
        - name: equipment
          in: body
          description: 设备对象及属性
          required: true
          schema:
            $ref: '#/definitions/Equipment'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Equipment'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/equipments/{id}':
    get:
      tags:
        - conf      
        - FAD.CONF.EQPT:R
        - enms
      summary: 查询设备
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.设备管理 | 只读 |   
      produces:
        - application/json
      operationId: getEquipmentById
      parameters:
        - in: path
          name: id
          description: 设备Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Equipment'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    put:
      tags:
        - conf      
        - FAD.CONF.EQPT:RW
        - enms
      summary: 修改设备属性
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.设备管理 | 读写 |   
      produces:
        - application/json
      operationId: updateEquipmentById
      parameters:
        - in: path
          name: id
          description: 设备Id
          required: true
          type: string
        - in: body
          name: data
          description: 键值对
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Equipment'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf      
        - FAD.CONF.EQPT:RW
        - enms
      summary: 删除设备 （当前版本不支持）
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.设备管理 | 读写 |   
      produces:
        - application/json
      operationId: deleteEquipmentById
      parameters:
        - in: path
          name: id
          description: Equipment Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Equipment'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/equipments/{id}/ri/sn':
    put:
      tags:
        - conf
        - FAD.CONF.EQPT:RW
        - enms
      produces:
        - application/json
      summary: 修改设备序列号
      description: |
        该操作仅支持子架（Shelf）的属性修改。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.设备管理 | 读写 |   
      operationId: updateShelfSN
      parameters:
        - in: path
          name: id
          description: 设备Id
          required: true
          type: string
        - in: body
          name: sn
          description: 序列号
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Equipment'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/equipments/{id}/ri/pn':
    put:
      tags:
        - conf
        - FAD.CONF.EQPT:RW
        - enms
      produces:
        - application/json
      summary: 修改设备编号
      description: |
        该操作仅支持子架（Shelf）的属性修改。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.设备管理 | 读写 |   
      operationId: updateShelfPN
      parameters:
        - in: path
          name: id
          required: true
          type: string
        - in: body
          name: pn
          description: 产品号
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Equipment'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/equipments/nes/{id}':
    get:
      tags:
        - conf     
        - FAD.CONF.EQPT:R 
        - enms
      summary: 查询网元上的设备列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.设备管理 | 只读 |   
      produces:
        - application/json
      operationId: getEquipmentsByNeId
      parameters:
        - in: path
          name: id
          description: 网元Id
          required: true
          type: string
        - name: page
          in: query
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Equipment'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/equipments/{id}/userlabel':
    put:
      tags:
        - conf
        - FAD.CONF.EQPT:RW
        - enms
      summary: 更新设备名字
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.网元管理 | 读写 |
      produces:
        - application/json
      operationId: updateEquipmentUserLabel
      parameters:
        - name: id
          in: path
          description: 设备Id
          required: true
          type: string
        - name: userLabel
          in: body
          description: 设备名字
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/equipments/nes/{id}/filter':
    post:
      tags:
        - conf     
        - FAD.CONF.EQPT:R
        - enms
      summary: 过滤网元上的设备列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.设备管理 | 只读 |   
      produces:
        - application/json
      operationId: getEquipmentsByFilter
      parameters:
        - in: path
          name: id
          description: 网元Id
          required: true
          type: string
        - in: body
          name: filter
          description: 键值对
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Equipment'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/equipments/{id}/tags':
    post:
      tags:
        - conf    
        - FAD.CONF.EQPT:RW  
        - enms
      summary: 添加设备标记
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.设备管理 | 读写 |   
      produces:
        - application/json
      operationId: addEquipmentTag
      parameters:
        - in: path
          name: id
          description: 设备Id
          required: true
          type: string
        - name: tag
          in: body
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Equipment'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf      
        - FAD.CONF.EQPT:RW
        - enms
      summary: 删除设备标记
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.设备管理 | 读写 |   
      produces:
        - application/json
      operationId: deleteEquipmentTag
      parameters:
        - in: path
          name: id
          description: 设备Id
          required: true
          type: string
        - name: tag
          in: body
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Equipment'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/tps/nes/{id}':
    get:
      tags:
        - conf      
        - FAD.CONF.TP:R
        - enms
      summary: 查询网元的端口列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |   
      produces:
        - application/json
      operationId: getTpsOnNe
      parameters:
        - name: id
          in: path
          description: 网元Id
          required: true
          type: string
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  
  '/tps/nes/{id}/filter':
    post:
      tags:
        - conf      
        - FAD.CONF.TP:R
        - enms
      summary: 过滤网元端口列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |   
      produces:
        - application/json
      operationId: getTpsOnNeByFilter
      parameters:
        - name: id
          in: path
          description: 网元Id
          required: true
          type: string
        - in: body
          name: filter
          description: 过滤条件，键值对。
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  
  # TODO: To be removed
  # ------------------------------------------
  # '/tps/nes/{id}/type/{tptype}':
  #   get:
  #     tags:
  #       - conf      
  #       - FAD.CONF.TP:R
  #       - enms
  #     summary: 按类型查询端口
  #     description: |
  #       ##### FAD控制
  #       | FAD域 | 权限 |
  #       | ----- | ---- |
  #       | 配置.端口管理 | 只读 |   
  #     produces:
  #       - application/json
  #     operationId: getTpsOnNeByType
  #     parameters:
  #       - name: id
  #         in: path
  #         description: 网元Id
  #         required: true
  #         type: string
  #       - name: tptype
  #         in: path
  #         required: true
  #         description: the TP type to query
  #         type: string
  #     responses:
  #       '200':
  #         description: OK
  #         schema:
  #           type: array
  #           items:
  #             $ref: '#/definitions/Tp'
  #       '500':
  #         description: Internal Error
  #         schema:
  #           $ref: '#/definitions/ErrorInfo'

  '/tps/nes/{id}/layer_rate/{layerrate}':
    get:
      tags:
        - conf      
        - FAD.CONF.TP:R
        - enms
      summary: 按层速率过滤端口
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |   
      produces:
        - application/json
      operationId: getTpsOnNeByLayerRate
      parameters:
        - name: id
          in: path
          description: 网元Id
          required: true
          type: string
        - name: layerrate
          in: path
          description: 层速率列表，以逗号分隔
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tps/nes/{id}/layer_rate/{layerrates}/{supportedRates}':
    get:
      tags:
        - conf      
        - FAD.CONF.TP:R
        - enms
      summary: 按层速率和信号速率过滤端口
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |   
      produces:
        - application/json
      operationId: getTpsOnNeBySupportedRate
      parameters:
        - name: id
          in: path
          description: 网元Id
          required: true
          type: string
        - name: layerrates
          in: path
          description: 端口层支持的速率。多个速率以逗号分隔
          required: true
          type: string
        - name: supportedRates
          in: path
          description: 端口支持的信号信号速率
          required: true
          type: string          
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tps/nes/{id}/layer_rate/{layerrates}/{supportedRates}/{container}':
    get:
      tags:
        - conf      
        - FAD.CONF.TP:R
        - enms
      summary: 按层速率，信号速率和容器过滤端口
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |   
      produces:
        - application/json
      operationId: getTpsBySupportedRateAndContainer
      parameters:
        - name: id
          in: path
          description: 网元Id
          required: true
          type: string
        - name: layerrates
          in: path
          description: 端口支持的层速率。多个层速率以逗号分隔。
          required: true
          type: string
        - name: supportedRates
          in: path
          description: 端口支持的信号速率
          required: true
          type: string    
        - name: container
          in: path
          description: 业务传输容器
          required: true
          type: string          
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tps/nes/{id}/layer_rate/{layerrates}/{supportedRates}/pgs/y_cable':
    get:
      tags:
        - conf      
        - FAD.CONF.TP:R
        - enms
      summary: 过滤支持Y-Cable的端口
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |   
      produces:
        - application/json
      operationId: getTpsSupportedYCable
      parameters:
        - name: id
          in: path
          description: 网元Id
          required: true
          type: string
        - name: layerrates
          in: path
          description: 端口支持的层速率，多个层速率以逗号分隔。
          required: true
          type: string
        - name: supportedRates
          in: path
          description: TP支持的信号速率
          required: true
          type: string          
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tps/nes/{id}/pgs/{type}':
    post:
      tags:
        - conf      
        - FAD.CONF.TP:R
        - enms
      summary: 按支持的保护组类型过滤端口
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |   
      produces:
        - application/json
      operationId: getTpsSupportedProtection
      parameters:
        - name: id
          in: path
          description: 网元Id
          required: true
          type: string
        - name: type
          in: path
          # TODO: Add enum definition
          description: |
            支持的保护组类型
              * YCable
              * SNCP (待定：细分出E-SNCP？)
          required: true
          type: string
        - in: body
          name: filter
          description: |
            过滤条件。支持的键值包括
              * layerreates
              * supportedRates
              * container
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tps/nes/{id}/layer_rate/{layerrates}/{supportedRates}/{container}/pgs/y_cable':
    get:
      tags:
        - conf      
        - FAD.CONF.TP:R
        - enms
      summary: 过滤支持Y-Cable的端口
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |   
      produces:
        - application/json
      operationId: getTpsSupportedYCableByContainer
      parameters:
        - name: id
          in: path
          description: 网元Id
          required: true
          type: string
        - name: layerrates
          in: path
          description: 端口支持的层速率。多个层速率以逗号分隔
          required: true
          type: string
        - name: supportedRates
          in: path
          description: 端口支持的信号速率。
          required: true
          type: string          
        - name: container
          in: path
          description: 业务容器。
          required: true
          type: string          
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tps/pgs/{id}':
    get:
      tags:
        - conf      
        - FAD.CONF.TP:R
        - enms
      summary: 查询保护组
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |   
      produces:
        - application/json
      operationId: getTPsOnPG
      parameters:
        - name: id
          in: path
          description: 保护组Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tps/{id}/pgs/y_cable/couple':
    get:
      tags:
        - conf      
        - FAD.CONF.TP:R
        - enms
      summary: 查询与指定端口可配对支持Y-Cable的端口
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |         
      produces:
        - application/json
      operationId: getYCableTPCouples
      parameters:
        - name: id
          in: path
          description: 端口Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/tps/equipments/{id}':
    get:
      tags:
        - conf   
        - FAD.CONF.TP:R
        - enms
      summary: 查询设备上的端口
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |   
      produces:
        - application/json
      operationId: getTpsOnEquipment
      parameters:
        - in: path
          name: id
          description: 设备Id
          required: true
          type: string
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/tps/equipments/{id}/filter':
    post:
      tags:
        - conf   
        - FAD.CONF.TP:R
        - enms
      summary: 过滤设备上的端口
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |   
      produces:
        - application/json
      operationId: getTpsOnEquipmentByFilter
      parameters:
        - in: path
          name: id
          description: 设备Id
          required: true
          type: string
        - in: body
          name: filter
          description: 过滤条件
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/tps/{id}':
    get:
      tags:
        - conf      
        - FAD.CONF.TP:R
        - enms
      summary: 查询指定端口
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |   
      produces:
        - application/json
      operationId: getTpById
      parameters:
        - name: id
          in: path
          description: 端口Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    put:
      tags:
        - conf      
        - FAD.CONF.TP:RW
        - enms
      summary: 更新端口属性
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 读写 |   
      produces:
        - application/json
      operationId: updateTpById
      parameters:
        - name: id
          in: path
          description: 端口Id
          required: true
          type: string
        - name: data
          in: body
          description: 以键值对的方式提供需要更新的属性。
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tps/{id}/userlabel':
    put:
      tags:
        - conf
        - FAD.CONF.TP:RW
        - enms
      summary: 更新端口名字
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 读写 |
      produces:
        - application/json
      operationId: updateTpUserLabel
      parameters:
        - name: id
          in: path
          description: 端口Id
          required: true
          type: string
        - name: userLabel
          in: body
          description: 端口名字
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tps/{id}/optical_power':
    get:
      tags:
        - conf
        - FAD.CONF.TP:R
        - enms
      summary: 获取物理端口光功率瞬时值
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |
      produces:
        - application/json
      operationId: getTpOpticalPower
      parameters:
        - name: id
          in: path
          description: 端口Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: object
            additionalProperties:
              type: object
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tps/{id}/tags':
    post:
      tags:
        - conf    
        - FAD.CONF.TP:RW  
        - enms
      summary: 添加端口标签
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 读写 |   
      produces:
        - application/json
      operationId: addTPTag
      parameters:
        - in: path
          name: id
          description: 端口Id
          required: true
          type: string
        - name: tag
          in: body
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf      
        - FAD.CONF.TP:RW
        - enms
      summary: 删除端口标签
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 读写 |   
      produces:
        - application/json
      operationId: deleteTPTag
      parameters:
        - in: path
          name: id
          description: 端口Id
          required: true
          type: string
        - name: tag
          in: body
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Tp'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tps/{id}/lldp':
    get:
      tags:
        - conf
        - FAD.CONF.TP:R
        - enms
      summary: 获取端口的LLDP
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |
      produces:
        - application/json
      operationId: getTpLLDP
      parameters:
        - name: id
          in: path
          description: 端口Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: object
            additionalProperties:
              type: object
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tps/{shelfUserLabel}/{tpUserLabel}/optical_power':
    get:
      tags:
        - conf
        - FAD.CONF.TP:R
        - enms
      summary: 获取端口的光功率
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 只读 |
      produces:
        - application/json
      operationId: getTpOpticalPowerByTpName
      parameters:
        - name: shelfUserLabel
          in: path
          description: shelfUserLabel
          required: true
          type: string
        - name: tpUserLabel
          in: path
          description: tpUserLabel
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: object
            additionalProperties:
              type: object
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tps/{shelfUserLabel}/{tpUserLabel}/optical_power/shutdown':
    post:
      tags:
        - conf
        - FAD.CONF.TP:R
        - enms
      summary: 关断激光器
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 读写 |
      produces:
        - application/json
      operationId: shutdownLaserByTpName
      parameters:
        - name: shelfUserLabel
          in: path
          description: shelfUserLabel
          required: true
          type: string
        - name: tpUserLabel
          in: path
          description: tpUserLabel
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: object
            additionalProperties:
              type: object
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tps/{shelfUserLabel}/{tpUserLabel}/optical_power/lightup':
    post:
      tags:
        - conf
        - FAD.CONF.TP:R
        - enms
      summary: 开启激光器
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.端口管理 | 读写 |
      produces:
        - application/json
      operationId: lightupLaserByTpName
      parameters:
        - name: shelfUserLabel
          in: path
          description: shelfUserLabel
          required: true
          type: string
        - name: tpUserLabel
          in: path
          description: tpUserLabel
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: object
            additionalProperties:
              type: object
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections':
    get:
      tags:
        - conf      
        - FAD.CONF.CONN:R
        - enms
      summary: 查询连接列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getConnections
      parameters:
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - conf      
        - FAD.CONF.CONN:RW
        - enms
      summary: 新建连接
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      consumes:
        - application/json
      operationId: addConnection
      parameters:
        - name: connection
          in: body
          description: 连接对象
          required: true
          schema:
            $ref: '#/definitions/Connection'
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf      
        - FAD.CONF.CONN:RW
        - enms
      summary: 删除连接
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      consumes:
        - application/json
      operationId: deleteConnections
      parameters:
        - name: ids
          description: 连接Id列表
          in: body
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/local':
    delete:
      tags:
        - conf      
        - FAD.CONF.CONN:RW
        - enms
      summary: 本地删除连接
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      consumes:
        - application/json
      operationId: deleteConnectionsFromDB
      parameters:
        - name: ids
          description: 连接Id列表
          in: body
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/force':
    post:
      tags:
        - conf      
        - FAD.CONF.CONN:RW
        - enms
      summary: 新建连接并强制更新实施状态
      description: |
        默认情况下，新建连接的实施状态不能大于支撑该连接的服务层的实施状态。例如服务层为分配资源状态，那么新建的连接不能高于分配资源状态。而强制操作将先强制把服务层升级到新建连接的设置状态，然后将新连接也推到指定状态。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      consumes:
        - application/json
      operationId: addConnectionByForce
      parameters:
        - name: connection
          in: body
          description: 连接对象
          required: true
          schema:
            $ref: '#/definitions/Connection'
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf     
        - FAD.CONF.CONN:RW
        - enms
      summary: 强制删除连接
      description: |
        如果指定连接承载有业务，强制操作将先自动先删除业务，然后删除指定连接。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      operationId: deleteConnectionsByForce
      parameters:
        - name: ids
          in: body          
          description: 连接Id数组
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/local/force':
    delete:
      tags:
        - conf     
        - FAD.CONF.CONN:RW
        - enms
      summary: 强制本地删除连接
      description: |
        如果指定连接承载有业务，强制操作将先自动先删除业务，然后删除指定连接。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      operationId: deleteConnectionsFromDBByForce
      parameters:
        - name: ids
          in: body          
          description: 连接Id数组
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/filter':
    post:
      tags:
        - conf      
        - FAD.CONF.CONN:R
        - enms
      summary: 过滤连接列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getConnectionsByFilter
      parameters:
        - name: filter
          in: body
          description: 过滤条件。
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo' 
  '/connections/bandWidthAndContainer/filter':
    post:
      tags:
        - conf
        - FAD.CONF.CONN:R
        - enms
      summary: 通过带宽和容器过滤连接 (当前不支持，保留方法)
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getBandWidthAndContainerByFilter
      parameters:
        - name: filter
          in: body
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/ConnectionLimit'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/takeover':
    post:
      tags:
        - conf     
        - FAD.CONF.CONN:RW 
        - enms
      summary: 网络资源计算
      description: |
        网络资源计算不会对设备做任何操作。计算过程是根据当前从网元收到的数据进行计算，包括网络拓普，端口状态等。计算完成后后将根据结果恢复网管中的连接及状态。
        **该操作耗时较长**
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      operationId: takeover
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo' 
  '/connections/takeoverByNes':
    post:
      tags:
        - conf     
        - FAD.CONF.CONN:RW 
        - enms
      summary: 网络资源计算（局部）
      description: |
        局部计算仅仅针对选择的网元进行。如果选中的网元和其他未选择的网元有连接关系，也会一并计算，但算法不会延伸到和指定网元没有直接连接关系的网元。
        **该操作耗时较长**
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      operationId: takeoverByNes
      parameters:
        - name: ids
          in: body
          description: 网元Id列表。
          required: true
          schema:
            type: array
            items:
              type: string
              description: NE ID
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
  # '/connections/layer_rate/{layerrate}':
  #   get:
  #     tags:
  #       - conf      
  #       - FAD.CONF.CONN:R
  #       - enms
  #     summary: 通过层速率过滤连接
  #     description: |
  #       ##### FAD控制
  #       | FAD域 | 权限 |
  #       | ----- | ---- |
  #       | 配置.连接管理 | 只读 |   
  #     produces:
  #       - application/json
  #     operationId: getConnectionsByLayerRate
  #     parameters:
  #       - in: path
  #         name: layerrate
  #         description: 层速率列表。多个层速率以逗号分隔。
  #         required: true
  #         type: string
  #     responses:
  #       '200':
  #         description: successful operation
  #         schema:
  #           type: array
  #           items:
  #             $ref: '#/definitions/Connection'
  #       '500':
  #         description: Internal Error
  #         schema:
  #           $ref: '#/definitions/ErrorInfo'
  # TODO: To be removed
  # ------------------------------------
  # '/connections/userlabel/{userlabel}':
  #   get:
  #     tags:
  #       - conf      
  #       - FAD.CONF.CONN:R
  #       - enms
  #     summary: Get connections
  #     description: get connections from NMS
  #     produces:
  #       - application/json
  #     operationId: getConnectionByUserLabel
  #     parameters:
  #       - name: userlabel
  #         in: path
  #         type: string
  #         required: true
  #         description: userlabel of connection to query
  #     responses:
  #       '200':
  #         description: OK
  #         schema:
  #           $ref: '#/definitions/Connection'
  #       '500':
  #         description: Internal Error
  #         schema:
  #           $ref: '#/definitions/ErrorInfo'
  '/connections/nes/{neId}':
    get:
      tags:
        - conf      
        - FAD.CONF.CONN:R
        - enms
      summary: 查询网元上承载的连接
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getConnectionsOnNe
      parameters:
        - name: neId
          in: path
          type: string
          required: true
          description: 网元Id
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/nes/{neId}/filter':
    post:
      tags:
        - conf      
        - FAD.CONF.CONN:R
        - enms
      summary: 过滤网元承载的连接
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getConnectionsOnNeByFilter
      parameters:
        - name: neId
          in: path
          type: string
          required: true
          description: NE ID
        - name: filter
          in: body
          description: 过滤条件
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/nes/{neId}/tps/{tpId}':
    get:
      tags:
        - conf      
        - FAD.CONF.CONN:R
        - enms
      summary: 查询端口上承载的连接
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getConnectionsOnTp
      parameters:
        - name: neId
          in: path
          type: string
          required: true
          description: 网元Id
        - name: tpId
          in: path
          type: string
          required: true
          description: 端口Id
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/nes/{neId}/tps/{tpId}/filter':
    post:
      tags:
        - conf      
        - FAD.CONF.CONN:R
        - enms
      summary: 过滤端口承载的连接
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getConnectionsOnTpByFilter
      parameters:
        - name: neId
          in: path
          type: string
          required: true
          description: 网元Id
        - name: tpId
          in: path
          type: string
          required: true
          description: 端口Id
        - name: filter
          in: body
          description: 过滤条件
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/nes/{neId}/equipments/{eqId}':
    get:
      tags:
        - conf      
        - FAD.CONF.CONN:R
        - enms
      summary: 查询设备承载的连接
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getConnectionsOnEquipment
      parameters:
        - name: neId
          in: path
          type: string
          required: true
          description: 网元Id
        - name: eqId
          in: path
          type: string
          required: true
          description: 设备Id
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/nes/{neId}/equipments/{eqId}/filter':
    post:
      tags:
        - conf      
        - FAD.CONF.CONN:R
        - enms
      summary: 过滤设备承载的连接
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getConnectionsOnEquipmentByFilter
      parameters:
        - name: neId
          in: path
          type: string
          required: true
          description: 网元Id
        - name: eqId
          in: path
          type: string
          required: true
          description: 设备Id
        - name: filter
          in: body
          description: KeyValue pairs of filter
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/routes':
    post:
      tags:
        - conf
        - FAD.CONF.CONN:R
        - enms
      summary: 计算连接可用的路由
      description: |
        **当前版本仅支持OCh的路由计算。**
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: caculateRoutes
      parameters:
        - name:   conn
          in: body
          required: true
          schema:
            $ref: '#/definitions/Connection'
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items: 
              $ref: '#/definitions/Route'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/routes/supported':
    post:
      tags:
        - conf
        - FAD.CONF.CONN:R 
        - enms
      summary: 查询能够支持新建连接的低层连接
      description: |
        **返回结果可用于手工选择路由。**
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getSupportedConnections
      parameters:
        - name: conn
          in: body
          required: true
          schema:
            $ref: '#/definitions/Connection'
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items: 
              $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/implement_state/{implementState}':
    put:
      tags:
        - conf      
        - FAD.CONF.CONN:RW
        - enms
      summary: 批量更新连接实施状态
      description: |
        执行结果将连接推到相关状态
          * ALLOCATED
          * IMPLEMENTED
          * INSERVICE
          * PARTIAL （部分实施）
          * PARTIALINSERVICE （部分服务中）
        正常执行结果会将连接推到指定状态。
          * 有时由于种种原因，执行结果可能会出现未完全成功的部分完成状态，会出现列表中的*PARTIAL*状态。
          * 连接的目标状态不能大于承载该业务的所有服务层连接的状态
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      operationId: updateConnectionsImplementState
      parameters:
        - name: implementState
          in: path
          description: |
            * ALLOCATED
            * IMPLEMENTED
            * INSERVICE
          required: true
          type: string
        - name: ids
          description: 连接Id列表。
          in: body
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
  '/connections/implement_state/{implementState}/force':
    put:
      tags:
        - conf     
        - FAD.CONF.CONN:RW 
        - enms
      summary: 批量强制修改连接实施状态
      description: |
        当服务层的状态小于设定当前连接的的目标状态时，强制操作将会先把服务层的连接状态推到相应状态，然后在进行当前连接的实施。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      operationId: updateConnectionsImplementStateForce
      parameters:
        - name: implementState
          in: path
          description: |
            * ALLOCATED
            * IMPLEMENTED
            * INSERVICE
          required: true
          type: string
        - name: ids
          description: 连接Id列表。
          in: body
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
  '/connections/{connId}':
    get:
      tags:
        - conf      
        - FAD.CONF.CONN:R
        - enms
      summary: 查询一条连接
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getConnectionById
      parameters:
        - name: connId
          in: path
          description: 连接Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    # put:
    #   tags:
    #     - conf   
    #     - FAD.CONF.CONN:RW
    #     - enms
    #   summary: 更新连接属性
    #   description: |
    #     ##### FAD控制
    #     | FAD域 | 权限 |
    #     | ----- | ---- |
    #     | 配置.连接管理 | 读写 |   
    #   produces:
    #     - application/json
    #   consumes:
    #     - application/json
    #   operationId: updateConnection
    #   parameters:
    #     - name: connId
    #       in: path
    #       description: 连接Id
    #       required: true
    #       type: string
    #     - name: data
    #       in: body
    #       description: 更新的属性键值对
    #       required: true
    #       schema:
    #         type: object
    #         additionalProperties:
    #           type: object
    #   responses:
    #     '200':
    #       description: OK
    #     '500':
    #       description: Internal Error
    #       schema:
    #         $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf     
        - FAD.CONF.CONN:RW
        - enms
      summary: 删除连接
      description: |
        删除连接之前必须保证连接上没有承载任何业务。|
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      operationId: deleteConnection
      parameters:
        - name: connId
          in: path          
          description: 连接Id
          required: true
          type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/{connId}/userlabel':
    put:
      tags:
        - conf      
        - FAD.CONF.CONN:RW
        - enms
      summary: 修改连接名字
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      operationId: updateConnectionUserLabel
      parameters:
        - name: connId
          in: path
          description: 连接Id
          required: true
          type: string
        - name: userLabel
          in: body
          description: 连接名字。名字不长于64个英文字符，或32个中文字符。
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/connections/{connId}/opticalpower/{direction}':
    get:
      tags:
        - conf      
        - FAD.CONF.CONN:R
        - enms
      summary: 查询连接光功率
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getOchConnectionOpticalPower
      parameters:
        - name: connId
          in: path
          description: 连接Id
          required: true
          type: string
        - name: direction
          in: path
          description: |
            光通路方向
            |取值 |说明 |
            | -- | -- |
            |AZ | A到Z |
            |ZA | Z到A |
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/ConnectionOpticalPower'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
  '/connections/{connId}/implement_state/{implementState}':
    put:
      tags:
        - conf      
        - FAD.CONF.CONN:RW
        - enms
      summary: 修改连接的实施状态
      description: |
        通过设置连接的目标实施状态来进行配置工作。
        注意，连接的实施状态不能高于支持该连接的服务层的实施状态。例如，服务层的连接仅仅分配了资源，那么该连接也只能分配资源，而不能推进到更高的状态。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      operationId: updateConnectionImplementState
      parameters:
        - name: connId
          in: path
          description: 连接Id
          required: true
          type: string
        - name: implementState
          in: path
          description: |
            可用值
              * 分配资源（ALLOCATED）
              * 已实施（IMPLEMENTED）
              * 服务中（INSERVICE）
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
  '/connections/{connId}/implement_state/{implementState}/force':
    put:
      tags:
        - conf     
        - FAD.CONF.CONN:RW 
        - enms
      summary: 强制修改连接的实施状态
      description: |
        和修改连接实施状态不同，如果连接的目标状态高于服务层的状态，强制修改将会先将服务层的状态推到指定状态，然后再修改连接状态。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      operationId: updateConnectionImplementStateForce
      parameters:
        - name: connId
          in: path
          description: 连接Id
          required: true
          type: string
        - name: implementState
          in: path
          description: |
            可用值
              * 分配资源（ALLOCATED）
              * 已实施（IMPLEMENTED）
              * 服务中（INSERVICE）
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
  # '/connections/{connId}/routes':
  #   get:
  #     tags:
  #       - conf  
  #       - FAD.CONF.CONN:R    
  #       - enms
  #     summary: Get Route Info
  #     description: Get Route Info
  #     produces:
  #       - application/json
  #     operationId: getRoutes
  #     parameters:
  #       - name: connId
  #         in: path
  #         description: Connection ID
  #         required: true
  #         type: string
  #     responses:
  #       '200':
  #         description: successful operation
  #         schema:
  #           $ref: '#/definitions/Route'
  #       '500':
  #         description: Internal Error
  #         schema:
  #           $ref: '#/definitions/ErrorInfo'
  #   put:
  #     tags:
  #       - conf      
  #       - FAD.CONF.CONN:RW
  #       - enms
  #     summary: Update Connection Route
  #     description: Update Connection Route
  #     produces:
  #       - application/json
  #     operationId: updateRoutes
  #     parameters:
  #       - name: connId
  #         in: path
  #         description: Connection ID
  #         required: true
  #         type: string
  #       - name: routes
  #         in: body
  #         required: true
  #         schema:
  #           $ref: '#/definitions/Connection'
  #     responses:
  #       '200':
  #         description: successful operation
  #         schema:
  #           $ref: '#/definitions/Connection'
  #       '500':
  #         description: Internal Error
  #         schema:
  #           $ref: '#/definitions/ErrorInfo'

  # '/connections/{connId}/route_constraints':
  #   get:
  #     tags:
  #       - conf      
  #       - FAD.CONF.CONN:R
  #       - enms
  #     summary: Get Route Constraint Info
  #     description: Get Route Info
  #     produces:
  #       - application/json
  #     operationId: getRouteConstraints
  #     parameters:
  #       - name: connId
  #         in: path
  #         description: Constraint ID
  #         required: true
  #         type: string
  #     responses:
  #       '200':
  #         description: successful operation
  #         schema:
  #           type: array
  #           items:
  #             $ref: '#/definitions/RouteConstraint'
  #       '500':
  #         description: Internal Error
  #         schema:
  #           $ref: '#/definitions/ErrorInfo'
  #   post:
  #     tags:
  #       - conf      
  #       - FAD.CONF.CONN:RW
  #       - enms
  #     summary: Add constraints
  #     description: Add constraints
  #     produces:
  #       - application/json
  #     operationId: addRouteConstraints
  #     parameters:
  #       - name: connId
  #         in: path
  #         description: Constraint ID
  #         required: true
  #         type: string
  #       - name: constraints
  #         in: body
  #         description: Constraint List
  #         required: true
  #         schema:
  #           type: array
  #           items:
  #             $ref: '#/definitions/RouteConstraint'
  #     responses:
  #       '200':
  #         description: successful operation
  #         schema:
  #           $ref: '#/definitions/Connection'
  #       '500':
  #         description: Internal Error
  #         schema:
  #           $ref: '#/definitions/ErrorInfo'

  # '/connections/{connId}/route_constraints/{consid}':
  #   delete:
  #     tags:
  #       - conf      
  #       - FAD.CONF.CONN:RW
  #       - enms
  #     summary: Delete Route Constraint
  #     description: Update Route Constraint
  #     produces:
  #       - application/json
  #     operationId: deleteRouteConstraints
  #     parameters:
  #       - name: connId
  #         in: path
  #         description: Constraint ID
  #         required: true
  #         type: string
  #       - name: consid
  #         in: path
  #         required: true
  #         type: string
  #     responses:
  #       '200':
  #         description: successful operation
  #         schema:
  #           $ref: '#/definitions/Connection'
  #       '500':
  #         description: Internal Error
  #         schema:
  #           $ref: '#/definitions/ErrorInfo'
  '/connections/{connId}/clients':
    get:
      tags:
        - conf      
        - FAD.CONF.CONN:R
        - enms
      summary: 查询连接支持的客户层连接列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getConnectionClients
      parameters:
        - name: connId
          in: path
          type: string
          required: true
          description: 连接Id
      responses:
        '200':
          description: 客户层连接列表。
          schema:
            type: array
            items:
              $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/connections/{connId}/tags':
    post:
      tags:
        - conf      
        - FAD.CONF.CONN:RW
        - enms
      summary: 添加连接标签
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      operationId: addConnectionTag
      parameters:
        - name: connId
          description: 连接Id
          in: path
          required: true
          type: string
        - name: tag
          description: 标签字符串。
          in: body
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - conf      
        - FAD.CONF.CONN:RW
        - enms
      summary: 删除标签
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 读写 |   
      produces:
        - application/json
      operationId: deleteConnectionTag
      parameters:
        - name: connId
          description: 连接Id
          in: path
          required: true
          type: string
        - name: tag
          description: 标签字符串
          in: body
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  # '/connections/{connId}/xcs':
  #   get:
  #     tags:
  #       - conf      
  #       - FAD.CONF.CONN:R
  #       - enms
  #     summary: Get given connection contains XC
  #     description: "Return all XCs supporting on given connection"
  #     produces:
  #       - application/json
  #     operationId: getAllXCsByConnections
  #     parameters:
  #       - name: connId
  #         in: path
  #         type: string
  #         required: true
  #         description: connection ID
  #     responses:
  #       '200':
  #         description: OK
  #         schema:
  #           type: array
  #           items:
  #             $ref: '#/definitions/Xc'
  #       '500':
  #         description: Internal Error
  #         schema:
  #           $ref: '#/definitions/ErrorInfo'             
  '/connections/{connId}/pgs':
    get:
      tags:
        - conf      
        - FAD.CONF.CONN:R
        - enms
      summary: 查询连接上的保护组
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getAllPGsByConnections
      parameters:
        - name: connId
          in: path
          type: string
          required: true
          description: 连接Id
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Pg'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'             
  '/connections/{connId}/flowinfos':
    get:
      tags:
        - conf      
        - FAD.CONF.CONN:R
        - enms
      summary: 查询连接的信号流
      description: |
        连接的信号流将以网元，板卡和物理端口为点，连接，交叉连接和保护组为线，呈现连接的路由及信号走向等信息。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.连接管理 | 只读 |   
      produces:
        - application/json
      operationId: getConnectionFlowInfo
      parameters:
        - name: connId
          in: path
          type: string
          required: true
          description: 连接Id
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/FlowRouteInfo'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'             

  '/mobjects':
    get:
      tags:
        - conf      
        - FAD.CONF.MAINTENANCE:R
        - enms
      summary: 查询维护中的对象
      description: |
        该API将同时查询维护中的设备和连接。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.维护管理 | 只读 |   
      produces:
        - application/json
      operationId: getMaintainingObjects
      parameters:
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/MaintainedObject'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
    post:
      tags:
        - conf      
        - FAD.CONF.MAINTENANCE:RW
        - enms
      summary: 开始维护指定对象
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.维护管理 | 读写 |   
      produces:
        - application/json
      operationId: startMaintainObjects
      parameters:
        - name: objs
          in: body
          description: |
            可以指定维护结束时间，到达指定时间时该对象会自动退出维护状态。
            如果未指定结束时间，则需手动退出维护状态。
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/MaintainedObject'
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
    delete:
      tags:
        - conf
        - FAD.CONF.MAINTENANCE:RW 
        - enms
      summary: 结束维护
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.维护管理 | 读写 |   
      produces:
        - application/json
      operationId: stopMaintainObjects
      parameters:
        - name: objs
          in: body
          description: 维护对象Id
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/MaintainedObject'
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
  '/mobjects/equipments':
    get:
      tags:
        - conf      
        - FAD.CONF.MAINTENANCE:R
        - enms
      summary: 查询维护中的设备
      description: |
        维护态的设备包括
          * 网元
          * 子架
          * 板卡
          * 端口
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.维护管理 | 只读 |   
      produces:
        - application/json
      operationId: getMaintainingEquipments
      parameters:
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/MaintainedObject'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
  '/mobjects/connections':
    get:
      tags:
        - conf      
        - FAD.CONF.MAINTENANCE:R
        - enms
      summary: 查询维护中的连接
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.维护管理 | 只读 |   
      produces:
        - application/json
      operationId: getMaintainingConnections
      parameters:
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/MaintainedObject'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
  '/mobjects/expired':
    put:
      tags:
        - conf      
        - FAD.CONF.MAINTENANCE:RW
        - enms
      summary: 修改维护结束时间
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.维护管理 | 读写 |   
      produces:
        - application/json
      operationId: updateMaintenanceExpired
      parameters:
        - name: objs
          in: body
          description: 维护对象Id列表
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/MaintainedObject'
      responses:
        '200':
          description: successful operation
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            

  #-------------------------------------------------------------
  # Alarm
  #-------------------------------------------------------------
  '/alarms':
    get:
      tags:
        - alarm
        - FAD.ALM:RW
        - enms
      produces:
        - application/json
      summary: 查询当前告警列表
      description: |        
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getAlarms
      parameters:
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        500:
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/alarms/download':
    post:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/octet-stream
      operationId:  downloadCurrentAlarms
      parameters:
        - name: filter
          in: body
          description: 过滤条件，键值对。
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
      responses:
        '200':
          schema:
            type: string
            format: binary
        500:
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/rootcause':
    post:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询当前所有告警的根因
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getNetworkAlarmRootCause
      parameters:
        - name: severity
          in: body
          description: filter for rca retrieve
          required: true
          schema:
            type: string
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/rootcause/summary':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询当前所有根因告警的分类数量
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getNetworkAlarmRootCauseSummary
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              type: integer
              format: int32
              description: alarm number list - critical, major, minor, warning
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/rootcause/{id}/derived':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询当前根因告警的衍生告警
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getDerivedAlarmsByRCAlarm
      parameters:
        - name: id
          in: path
          type: string
          required: true
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/nes':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询当前网元告警
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getCurrentNEAlarms
      parameters:
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        500:
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/alarms/nes/filter':
    post:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 过滤当前网元告警
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getCurrentNEAlarmsByFilter
      parameters:
        - name: filter
          in: body
          description: 过滤条件，键值对。
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        500:
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/nms':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询当前网管告警
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getCurrentNMSAlarms
      parameters:
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        500:
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/alarms/nms/filter':
    post:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 过滤当前网管告警
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getCurrentNMSAlarmsByFilter
      parameters:
        - name: filter
          in: body
          description: 过滤条件，键值对。
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        500:
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/filter':
    post:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 过滤当前告警
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getCurrentAlarmsByFilter
      parameters:
        - name: filter
          in: body
          description: KVPaire list for filters
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/ack':
    post:
      tags:
        - alarm
        - FAD.ALM:RW
        - enms
      produces:
        - application/json
      summary: 批量确认当前告警
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 读写 |   
      operationId: acknowledgeAlarms
      parameters:
        - name: ids
          in: body
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - alarm
        - FAD.ALM:RW
        - enms
      produces:
        - application/json
      summary: 批量清除当前告警确认状态
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 读写 |   
      operationId: unacknowledgeAlarms
      parameters:
        - name: ids
          in: body
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/clear':
    post:
      tags:
        - alarm
        - FAD.ALM:RW
        - enms
      produces:
        - application/json
      summary: 清除当前告警
      description: |
        清除告警仅仅标记网管上的告警状态为CLEAR，以方便告警入库。该操作不会操作网元上的告警，所以当同步数据后，如果告警未真正清除，告警会重新出现在网管中。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 读写 |   
      operationId: clearAlarms
      parameters:
        - name: ids
          in: body
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/alarms/{id}':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询当前告警
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getCurrentAlarm
      parameters:
        - name: id
          in: path
          type: string
          required: true
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/alarms/{id}/ack':
    post:
      tags:
        - alarm
        - FAD.ALM:RW
        - enms
      produces:
        - application/json
      summary: 确认当前告警
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 读写 |   
      operationId: acknowledgeAlarm
      parameters:
        - name: id
          in: path
          type: string
          required: true
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - alarm
        - FAD.ALM:RW
        - enms
      produces:
        - application/json
      summary: 清除当前告警确认状态
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 读写 |   
      operationId: unacknowledgeAlarm
      parameters:
        - name: id
          in: path
          type: string
          required: true
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
              
  '/alarms/severity/{severity}':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 根据告警级别过滤当前告警列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getAlarmsBySeverity
      parameters:
        - name: severity
          in: path
          type: string
          required: true
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
              
  '/alarms/nes/{neId}':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询网元上的当前告警列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getAlarmsByNe
      parameters:
        - in: path
          name: neId
          description: 网元Id
          required: true
          type: string
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/alarms/nes/{neId}/filter':
    post:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 过滤网元上的当前告警列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getAlarmsOnNeByFilter
      parameters:
        - in: path
          name: neId
          description: 网元Id 
          required: true
          type: string
        - name: filter
          in: body
          description: 过滤条件，键值对。
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/nes/{neId}/rootcause':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询网元上的告警根因
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getNeAlarmRootCause
      parameters:
        - in: path
          name: neId
          description: 网元Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/equipments/{id}':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询设备上的当前告警列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getAlarmsByEquipmentId
      parameters:
        - in: path
          name: id
          description: 设备Id
          required: true
          type: string
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/alarms/equipments/{id}/filter':
    post:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 过滤设备上的当前告警列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getAlarmsOnEquipmentByFilter
      parameters:
        - in: path
          name: id
          description: 设备Id
          required: true
          type: string
        - name: filter
          in: body
          description: 过滤条件，键值对。
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/tps/{id}':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询端口上的当前告警列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getAlarmsByTpId
      parameters:
        - in: path
          name: id
          description: 端口Id
          required: true
          type: string
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/alarms/tps/{id}/filter':
    post:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 过滤端口上的当前告警列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getAlarmsOnTpByFilter
      parameters:
        - in: path
          name: id
          description: TP Id
          required: true
          type: string
        - name: filter
          in: body
          description: 过滤条件，键值对。
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/connections/{id}':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询连接上的当前告警列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getAlarmsByConnectionId
      parameters:
        - in: path
          name: id
          description: Connection Id
          required: true
          type: string
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/alarms/connections/{id}/filter':
    post:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 过滤连接上的当前告警列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getAlarmsOnConnectionByFilter
      parameters:
        - in: path
          name: id
          description: Connection Id
          required: true
          type: string
        - name: filter
          in: body
          description: KVPaire list for filters
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/connections/{id}/rootcause':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询连接上的当前告警的根因
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getConnectionAlarmRootCause
      parameters:
        - in: path
          name: id
          description: Connection Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/maintenance':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询维护告警列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getMaintenanceAlarms
      parameters:
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/alarms/maintenance/filter':
    post:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 过滤维护告警列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getMaintenanceAlarmsByFilter
      parameters:
        - name: filter
          in: body
          description: 过滤条件，键值对。
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/maintenance/{id}':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询维护告警
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getMaintenanceAlarmsById
      parameters:
        - name: id
          in: path
          description: 告警Id
          required: true
          type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Alarm'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/history':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询历史告警列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getHistoryAlarms
      parameters:
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/alarms/history/download':
    post:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/octet-stream
      operationId:  downloadHistoryAlarms
      parameters:
        - name: filter
          in: body
          description: 过滤条件，键值对。
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
      responses:
        '200':
          schema:
            type: string
            format: binary
        500:
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/history/filter':
    post:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 过滤历史告警列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getHistoryAlarmsByFilter
      parameters:
        - name: filter
          in: body
          description: 过滤条件，键值对。
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Alarm'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/history/{id}':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询历史告警
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getHistoryAlarm
      parameters:
        - name: id
          in: path
          type: string
          required: true
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/alarms/{id}/correlated':
    get:
      tags:
        - alarm
        - FAD.ALM:R
        - enms
      produces:
        - application/json
      summary: 查询关联告警
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 告警管理 | 只读 |   
      operationId: getCorrelatedAlarms
      parameters:
        - name: id
          in: path
          type: string
          required: true
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Alarm'
        '500':
          description: eNMS Error
          schema:
            $ref: '#/definitions/ErrorInfo'                 

  #-------------------------------------------------------------
  # PM
  #-------------------------------------------------------------
  '/pmps/history':
    post:
      tags:
        - pm
        - FAD.PM:RW
        - enms
      produces:
        - application/json
      summary: 启动网元历史性能数据收集
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 性能管理 | 读写 |
      operationId: enableHistoryPM
      parameters:
        - name: ids
          description: NE ID list
          in: body
          schema:
            type: array
            items:
              type: string
          required: true
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - pm
        - FAD.PM:RW
        - enms
      produces:
        - application/json
      summary: 停止网元历史性能数据收集
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 性能管理 | 读写 |
      operationId: disableHistoryPM
      parameters:
        - name: ids
          description: NE ID list
          in: body
          schema:
            type: array
            items:
              type: string
          required: true
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/pmps/tps/{id}':
    put:
      tags:
        - pm
        - FAD.PM:RW
        - enms
      produces:
        - application/json
      summary: 更新TP性能监控配置
      description: |
        (该操作暂不支持)
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 性能管理 | 读写 |
      operationId: updatePMCounters
      parameters:
        - name: id
          in: path
          type: string
          required: true
        - name: counters
          in: body
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/PMCounter'
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/PMP'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - pm
        - FAD.PM:RW
        - enms
      produces:
        - application/json
      summary: 启动TP性能监控
      description: |
        (该操作暂不支持)
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 性能管理 | 读写 |
      operationId: enablePM
      parameters:
        - name: id
          in: path
          type: string
          required: true
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/PMP'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - pm
        - FAD.PM:RW
        - enms
      produces:
        - application/json
      summary: 停止TP性能监控
      description: |
        (该操作暂不支持)
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 性能管理 | 读写 |
      operationId: disablePM
      parameters:
        - name: id
          in: path
          type: string
          required: true
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/PMP'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/pmps/tps/{id}/counters':
    post:
      tags:
        - pm
        - FAD.PM:R
        - enms
      produces:
        - application/json
      summary: 获取TP当前性能数据
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 性能管理 | 只读 |
      operationId: getPMCounters
      parameters:
        - name: id
          in: path
          type: string
          required: true
        - name: counters
          in: body
          required: false
          description: Counter Name List
          schema:
            type: array
            items:
              type: string
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/PMCounter'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/pmps/tps/{id}/counters/{frequency}':
    post:
      tags:
        - pm
        - FAD.PM:R
        - enms
      produces:
        - application/json
      summary: 按频率获取光放盘TP当前性能数据
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 性能管理 | 只读 |
      operationId: getOACardPMCounters
      parameters:
        - name: id
          in: path
          type: string
          required: true
        - name: frequency
          in: path
          type: integer
          format: int32
          required: true
        - name: counters
          in: body
          required: false
          description: Counter Name List
          schema:
            type: array
            items:
              type: string
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/PMCounter'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/pmps/nes/{neId}/counters':
    get:
      tags:
        - pm
        - FAD.PM:R
        - enms
      produces:
        - application/json
      summary: 获取已关注TP当前性能数据
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 性能管理 | 只读 |
      operationId: getFocusedPMCountersByNe
      parameters:
        - name: neId
          in: path
          type: string
          required: true
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/PMCounterTree'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/pmps/oacards/tps/{tpId}/frequencies':
    get:
      tags:
        - pm
        - FAD.PM:R
        - enms
      produces:
        - application/json
      summary: 获取光放盘TP频率列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 性能管理 | 只读 |
      operationId: getOACardFrequencies
      parameters:
        - name: tpId
          in: path
          type: string
          required: true
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              type: integer
              format: int32
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/pmps/nes/{neId}/shelves/{shelf}/counters':
    get:
      tags:
        - pm
        - FAD.PM:R
        - enms
      produces:
        - application/json
      summary: 获取已关注shelf当前性能数据
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 性能管理 | 只读 |
      operationId: getFocusedPMCountersByShelf
      parameters:
        - name: neId
          in: path
          type: string
          required: true
        - name: shelf
          in: path
          type: string
          required: true
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/PMCounterTree'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/pmps/nes/{neId}/shelves/{shelf}/slots/{slot}/counters':
    get:
      tags:
        - pm
        - FAD.PM:R
        - enms
      produces:
        - application/json
      summary: 获取已关注板卡当前性能数据
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 性能管理 | 只读 |
      operationId: getFocusedPMCountersBySlot
      parameters:
        - name: neId
          in: path
          type: string
          required: true
        - name: shelf
          in: path
          type: string
          required: true
        - name: slot
          in: path
          type: string
          required: true
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/PMCounterTree'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/pmps/connections/{connId}/counters':
    get:
      tags:
        - pm
        - FAD.PM:R
        - enms
      produces:
        - application/json
      summary: 获取连接所经TP当前性能数据
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 性能管理 | 只读 |
      operationId: getPMCountersByConnection
      parameters:
        - name: connId
          in: path
          type: string
          required: true
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/PMCounterTree'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/pmps/counters/focused':
    post:
      tags:
        - pm
        - FAD.PM:RW
        - enms
      produces:
        - application/json
      summary: 关注对象当前性能数据
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 性能管理 | 读写 |
      operationId: addFocusedPMCounter
      parameters:
        - name: counters
          in: body
          required: true
          description: Focused Counters List
          schema:
            type: array
            items:
              $ref: '#/definitions/FocusedPMCounter'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/FocusedPMCounter'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - pm
        - FAD.PM:RW 
        - enms
      summary: 取消关注对象当前性能数据
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 性能管理 | 读写 |
      produces:
        - application/json
      operationId: deleteFocusedPMCounter
      parameters:
        - name: ids
          description: focused counter id list
          in: body
          schema:
            type: array
            items:
              type: string
          required: true
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/FocusedPMCounter'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
 
  #-------------------------------------------------------------
  # Statistics Report
  #-------------------------------------------------------------
  '/statistics/nes':
    get:
      tags:
        - report
        - FAD.REPT:R
        - enms
      summary: 获取网元统计报表
      description: |
        获取各类型网元数量统计数据
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 报表管理 | 只读 |
      produces:
        - application/json
      operationId: getNeNumbersPerType
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/StatisticsSummary'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/statistics/equipments':
    get:
      tags:
        - report
        - FAD.REPT:R
        - enms
      summary: 获取板卡统计报表
      description: |
        获取各类型板卡数量统计数据
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 报表管理 | 只读 |
      produces:
        - application/json
      operationId: getEquipmentBOMReport
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/StatisticsSummary'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
          
  '/statistics/connections':
    get:
      tags:
        - report
        - FAD.REPT:R
        - enms
      summary: 获取连接统计报表
      description: |
        获取各类型连接数量统计数据
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 报表管理 | 只读 |
      produces:
        - application/json
      operationId: getConnectionsStatisticsReport
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/StatisticsSummary'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/statistics/alarms/current':
    get:
      tags:
        - report
        - FAD.REPT:R
        - enms
      summary: 获取当前告警统计报表
      description: |
        获取当前告警统计数据
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 报表管理 | 只读 |
      produces:
        - application/json
      operationId: getCurrentAlarmStatisticsReport
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/StatisticsSummary'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/statistics/alarms/condtype':
    get:
      tags:
        - report
        - FAD.REPT:R
        - enms
      summary: 获取当前告警分类统计报表
      description: |
        获取当前告警分类统计数据
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 报表管理 | 只读 |
      produces:
        - application/json
      operationId: getCurrentAlarmStatisticsReportByCondType
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/StatisticsSummary'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  #-------------------------------------------------------------
  # Tag
  #-------------------------------------------------------------
  '/tags':
    get:
      tags:
        - tag
        - FAD.SKIP:R 
        - enms
      summary: 获取所有Tag。
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 无 | 不控制 |
      produces:
        - application/json
      operationId: getTags
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              type: string
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - tag
        - FAD.SKIP:R 
        - enms
      summary: Tag引用计数增加。
      description: |
        Tag引用次数加一
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 无 | 不控制 |
      produces:
        - application/json
      operationId: addTag
      parameters:
        - name: tag
          in: body
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - tag
        - FAD.SKIP:R 
        - enms
      summary: Tag引用次数减少。
      description: |
        Tag引用次数减一
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 无 | 不控制 |
      produces:
        - application/json
      operationId: deleteTag
      parameters:
        - name: tag
          in: body
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/tags/{tag}':
    get:
      tags:
        - tag
        - FAD.SKIP:R 
        - enms
      summary: 查询Tag。
      description: |
        查询包含给定字符串的Tag
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 无 | 不控制 |
      produces:
        - application/json
      operationId: getTagsByString
      parameters:
        - name: tag
          in: path
          type: string
          required: true
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              type: string
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  
  #-------------------------------------------------------------
  # Security
  #-------------------------------------------------------------
  '/sessions':
    post:
      tags:
        - secu   
        - FAD.SKIP:R   
        - enms
      summary: 登录系统
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 无 | 不控制 |
      produces:
        - application/json
      operationId: login
      parameters:
        - name: loginInfo
          in: body
          description: Login Info, such as user name, passwords etc.
          required: true
          schema:
            $ref: '#/definitions/LoginInfo'
      responses:
        '200':
          description: OK
          schema:
            type: string
            description: Session Token
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - secu      
        - FAD.SKIP:R   
        - enms
      summary: 登出系统
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 无 | 不控制 |
      produces:
        - application/json
      operationId: logout
      parameters:
        - name: token
          in: body
          description: session token
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/users':
    get:
      tags:
        - secu
        - FAD.SECU:R
        - enms
      summary: 获取用户列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      operationId: getUsers
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/User'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - secu   
        - FAD.SECU:RW   
        - enms
      summary: 创建用户
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: addUser
      parameters:
        - name: user
          in: body
          description: User
          required: true
          schema:
            $ref: '#/definitions/User'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/User'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - secu     
        - FAD.SECU:RW
        - enms
      summary: 删除用户
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      operationId: deleteUsers
      parameters:
        - in: body
          name: ids
          description: User Id
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/users/permissions/fad':
    get:
      tags:
        - secu
        - FAD.SECU:R
        - enms
      summary: 获取当前用户FAD权限信息
      description: |
        获取当前用户FAD权限信息。Header中需填入"enmsToken"
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: getUserFADPermissionsByToken
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Permission'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/users/info':
    get:
      tags:
        - secu
        - FAD.SECU:R
        - enms
      summary: 获取当前用户信息
      description: |
        获取当前用户信息。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      operationId: getCurrentUserInfo
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/User'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/users/alarmfilter':
    get:
      tags:
        - secu
        - FAD.SECU:R
        - enms
      summary: 获取当前用户告警过滤配置信息
      description: |
        获取当前用户告警过滤配置信息。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      operationId: getCurrentUserAlarmFilter
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/AlarmFilter'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - secu
        - FAD.SECU:RW
        - enms
      summary: 添加告警过滤配置到当前用户
      description: |
        添加告警过滤配置到当前用户
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      operationId: addAlarmFilterToCurrentUser
      parameters:
        - name: filter
          in: body
          required: true
          schema:
            $ref: '#/definitions/AlarmFilter'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/User'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/users/setting':
    get:
      tags:
        - secu
        - FAD.SECU:R
        - enms
      summary: 获取当前用户配置信息
      description: |
        获取当前用户配置信息。
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      operationId: getCurrentUserSetting
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/KVPaires'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - secu
        - FAD.SECU:RW
        - enms
      summary: 添加配置到当前用户
      description: |
        添加配置到当前用户
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      operationId: addSettingToCurrentUser
      parameters:
        - name: setting
          in: body
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/KVPaires'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/User'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/users/{id}':
    get:
      tags:
        - secu
        - FAD.SECU:R
        - enms
      summary: 根据用户ID获取用户信息
      description: |
        根据用户ID获取用户信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      operationId: getUserById
      parameters:
        - name: id
          in: path
          description: User Id
          required: true
          type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/User'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'    
    put:
      tags:
        - secu      
        - FAD.SECU:RW
        - enms
      summary: 根据用户ID更新用户信息
      description: |
        根据用户ID更新用户信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      operationId: updateUser
      parameters:
        - name: id
          in: path
          description: User Id
          required: true
          type: string
        - name: data
          in: body
          description: KeyValue pairs for updating
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/User'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
  '/users/{id}/usergroups':
    get:
      tags:
        - secu
        - FAD.SECU:R
        - enms
      summary: 获取用户组信息
      description: |
        根据用户ID获取用户所在用户组信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      operationId: getUserGroupsOfUser
      parameters:
        - name: id
          in: path
          description: User Id
          required: true
          type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/UserGroup'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - secu
        - FAD.SECU:RW
        - enms
      summary: 添加用户到用户组
      description: |
        添加用户到用户组
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      operationId: addUserToUserGroups
      parameters:
        - name: id
          in: path
          description: User Id
          required: true
          type: string
        - name: ugIds
          in: body
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/User'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/users/{id}/permissions/fad':
    get:
      tags:
        - secu    
        - FAD.SECU:R  
        - enms
      summary: 获取用户FAD权限信息
      description: |
        根据用户ID获取用户FAD权限信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: getUserFADPermissions
      parameters:
        - name: id
          in: path
          description: User Id
          required: true
          type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Permission'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/usergroups/type/{type}':
    get:
      tags:
        - secu
        - FAD.SECU:R
        - FAD.NAD:RW
        - enms
      summary: 获取用户组列表
      description: |
        获取用户组列表
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
        | 域管理 | 读写 |
      produces:
        - application/json
      operationId: getUserGroupsByType
      parameters:
        - name: type
          in: path
          required: true
          type: string      
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/UserGroup'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'                        
  '/usergroups':
    get:
      tags:
        - secu
        - FAD.SECU:R
        - FAD.NAD:RW
        - enms
      summary: 获取用户组列表
      description: |
        获取用户组列表
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
        | 域管理 | 读写 |
      produces:
        - application/json
      operationId: getUserGroups
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/UserGroup'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - secu    
        - FAD.SECU:RW  
        - enms
      summary: 创建用户组
      description: |
        创建用户组
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: addUserGroup
      parameters:
        - name: group
          in: body
          description: User Group
          required: true
          schema:
            $ref: '#/definitions/UserGroup'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/UserGroup'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - secu    
        - FAD.SECU:RW 
        - enms
      summary: 删除用户组
      description: |
        删除用户组
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      operationId: deleteUserGroups
      parameters:
        - in: body
          name: ids
          description: User Group Ids
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/usergroups/{id}':
    get:
      tags:
        - secu
        - FAD.SECU:R
        - enms
      summary: 获取用户组
      description: |
        获取用户组信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      operationId: getUserGroupById
      parameters:
        - name: id
          in: path
          description: User Group Id
          required: true
          type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/UserGroup'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    put:
      tags:
        - secu      
        - FAD.SECU:RW
        - enms
      summary: 更新用户组
      description: |
        更新用户组
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      operationId: updateUserGroup
      parameters:
        - name: id
          in: path
          description: User Group Id
          required: true
          type: string
        - name: data
          in: body
          description: KeyValue pairs for updating
          required: true
          schema:
            $ref: "#/definitions/KVPaires"
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/UserGroup'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
  '/usergroups/{id}/users':
    get:
      tags:
        - secu    
        - FAD.SECU:R  
        - enms
      summary: 获取用户组中用户列表
      description: |
        获取用户组中用户列表
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: getUsersOfUserGroup
      parameters:
        - name: id
          in: path
          description: User Group Id
          required: true
          type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/User'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - secu    
        - FAD.SECU:RW  
        - enms
      summary: 添加用户到用户组
      description: |
        添加用户到用户组
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: addUsersToGroup
      parameters:
        - name: id
          in: path
          description: User Group Id
          required: true
          type: string
        - in: body
          name: userIds
          description: User Ids
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/UserGroup'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - secu   
        - FAD.SECU:RW   
        - enms
      summary: 从用户组中移除用户
      description: |
        从用户组中移除用户
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: deleteUsersFromGroup
      parameters:
        - name: id
          in: path
          description: User Group Id
          required: true
          type: string
        - in: body
          name: userIds
          description: User Ids
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/UserGroup'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/usergroups/{id}/roles':
    post:
      tags:
        - secu   
        - FAD.SECU:RW   
        - enms
      summary: 为用户组添加角色
      description: |
        为用户组添加角色
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: addRoleToGroup
      parameters:
        - name: id
          in: path
          description: User group Id
          required: true
          type: string
        - in: body
          name: roleIds
          description: Role Ids
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/UserGroup'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - secu     
        - FAD.SECU:RW 
        - enms
      summary: 从用户组移除角色
      description: |
        从用户组移除角色
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: deleteRolesFromGroup
      parameters:
        - name: id
          in: path
          description: User Group Id
          required: true
          type: string
        - in: body
          name: roleIds
          description: Role Ids
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/UserGroup'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/usergroups/{id}/roles/role_type/{roleType}':
    get:
      tags:
        - secu      
        - FAD.SECU:R
        - enms
      summary: 根据角色类型获取用户组角色
      description: |
        根据角色类型获取用户组角色
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: getRolesOfUserGroupByRoleType
      parameters:
        - name: id
          in: path
          description: User Group Id
          required: true
          type: string
        - in: path
          name: roleType
          required: true
          type: string      
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Role'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'  
  '/usergroups/{id}/permissions/fad':
    get:
      tags:
        - secu     
        - FAD.SECU:R 
        - enms
      summary: 获取用户组FAD权限信息
      description: |
        获取用户组FAD权限信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: getUserGroupFADPermissions
      parameters:
        - name: id
          in: path
          description: User Group Id
          required: true
          type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Permission'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/roles':
    post:
      tags:
        - secu   
        - FAD.SECU:RW   
        - enms
      summary: 创建角色
      description: |
        创建角色
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: addRole
      parameters:
        - name: role
          in: body
          description: Role
          required: true
          schema:
            $ref: '#/definitions/Role'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Role'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - secu     
        - FAD.SECU:RW
        - enms
      summary: 删除角色
      description: |
        删除角色
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      operationId: deleteRoles
      parameters:
        - in: body
          name: ids
          description: Role Ids
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/roles/role_type/{roleType}':
    get:
      tags:
        - secu
        - FAD.SECU:R
        - enms
      summary: 根据角色类型获取角色列表
      description: |
        根据角色类型获取角色列表
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      operationId: getRolesByRoleType
      parameters:
        - in: path
          name: roleType
          required: true
          type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Role'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            
  '/roles/permissions/fad':
    get:
      tags:
        - secu      
        - FAD.SECU:R
        - enms
      summary: 获取所有可用FAD权限信息
      description: |
        获取所有可用FAD权限信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: getRoleAvailableFADPermissions
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Permission'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/roles/{id}':
    get:
      tags:
        - secu
        - FAD.SECU:R
        - enms
      summary: 获取角色
      description: |
        获取角色
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      operationId: getRoleById
      parameters:
        - name: id
          in: path
          description: Role Id
          required: true
          type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Role'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/roles/{id}/name':
    put:
      tags:
        - secu      
        - FAD.SECU:RW
        - enms
      summary: 更新角色名称
      description: |
        更新角色名称
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: updateRoleName
      parameters:
        - name: id
          in: path
          description: Role Id
          required: true
          type: string
        - name: name
          in: body
          description: Role Name
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Role'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/roles/{id}/usergroups':
    get:
      tags:
        - secu
        - FAD.SECU:R
        - enms
      summary: 根据角色获取用户组列表
      description: |
        根据角色获取用户组列表
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      operationId: getUserGroupsOfRole
      parameters:
        - name: id
          in: path
          description: Role Id
          required: true
          type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/UserGroup'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - secu
        - FAD.SECU:RW
        - enms
      summary: 增加角色到用户组
      description: |
        增加角色到用户组
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      operationId: addRoleToUserGroups
      parameters:
        - name: id
          in: path
          description: Role Id
          required: true
          type: string
        - name: usergroups
          in: body
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Role'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/roles/{id}/permissions/fad':
    get:
      tags:
        - secu      
        - FAD.SECU:R
        - enms
      summary: 获取角色FAD权限信息
      description: |
        获取角色FAD权限信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 只读 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: getRoleFADPermissions
      parameters:
        - name: id
          in: path
          description: Role Id
          required: true
          type: string
      responses:
        '200':
          description: OK and return permission ID list
          schema:
            type: array
            items:
              type: string
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    put:
      tags:
        - secu      
        - FAD.SECU:RW
        - enms
      summary: 更新角色FAD权限信息
      description: |
        更新角色FAD权限信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 安全管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: updateRoleFADPermissions
      parameters:
        - name: id
          in: path
          description: Role Id
          required: true
          type: string
        - name: permissions
          in: body
          description: Permission List
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/Permission'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Role'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  #-------------------------------------------------------------
  # NAD
  #-------------------------------------------------------------
  '/nads/domains':
    get:
      tags:
        - secu     
        - FAD.NAD:R
        - enms
      produces:
        - application/json
      summary: 获取所有域
      description: |
        获取所有域
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 只读 |
      operationId: getDomains
      parameters:
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Domain'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - secu     
        - FAD.NAD:RW
        - enms
      produces:
        - application/json
      summary: 删除域
      description: |
        删除域
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 读写 |
      operationId: deleteDomain
      parameters:
        - name: ids
          in: body
          description: Domain Id list
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nads/domains/{id}':
    get:
      tags:
        - secu     
        - FAD.NAD:R
        - enms
      produces:
        - application/json
      summary: 获取域
      description: |
        获取域
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 只读 |
      operationId: getDomain
      parameters:
        - name: id
          in: path
          type: string
          required: true
          description: Domain ID
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Domain'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - secu     
        - FAD.NAD:RW
        - enms
      produces:
        - application/json
      summary: 创建子域
      description: |
        在父域下创建子域
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 读写 |
      operationId: addSubDomain
      parameters:
        - name: id
          in: path
          type: string
          required: true
          description: Parent Domain ID
        - name: domain
          in: body
          description: Sub Domain
          required: true
          schema:
            $ref: '#/definitions/Domain'
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nads/domains/{id}/sub':
    post:
      tags:
        - secu     
        - FAD.NAD:RW
        - enms
      produces:
        - application/json
      summary: 将子域加入父域
      description: |
        将子域加入父域
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 读写 |
      operationId: addSubDomains
      parameters:
        - name: id
          in: path
          type: string
          required: true
          description: Parent Domain ID
        - name: subDomainIds
          in: body
          description: Sub Domain ID list
          required: true
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Domain'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'    
  '/nads/domains/{id}/userlabel/{userLabel}':
    put:
      tags:
        - secu     
        - FAD.NAD:RW
        - enms
      produces:
        - application/json
      summary: 修改域名称
      description: |
        修改域名称
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 读写 |
      operationId: updateDomainUserLabel
      parameters:
        - name: id
          in: path
          type: string
          required: true
        - name: userLabel
          in: path
          type: string
          required: true
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/nads/domains/{id}/roles':
    get:
      tags:
        - secu     
        - FAD.NAD:R
        - enms
      produces:
        - application/json
      summary: 获取域角色列表
      description: |
        获取域角色列表
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 只读 |
      operationId: getRoleListOfDomain
      parameters:
        - name: id
          in: path
          type: string
          required: true
          description: Domain ID
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Role'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/nads/domains/resources/{id}/type/{type}':
    get:
      tags:
        - secu     
        - FAD.NAD:R
        - enms
      produces:
        - application/json
      summary: 获取资源关联的域
      description: |
        获取资源关联的域
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 只读 |
      operationId: getDomainsOfResource
      parameters:
        - name: id
          in: path
          type: string
          required: true
          description: Resource ID
        - name: type
          in: path
          type: string
          required: true
          description: |
            所支持的资源类型
              * 网元 (NES)
              * 连接 (CONN)
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Domain'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nads/domains/{id}/resources':
    get:
      tags:
        - secu     
        - FAD.NAD:R
        - enms
      produces:
        - application/json
      summary: 获取域内资源列表
      description: |
        获取域内资源列表
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 只读 |
      operationId: getDomainResource
      parameters:
        - name: id
          in: path
          type: string
          required: true
          description: Domain Id
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/DomainResource'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - secu     
        - FAD.NAD:RW
        - enms
      produces:
        - application/json
      summary: 将资源加入域
      description: |
        将资源加入域
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 读写 |
      operationId: addDomainResources
      parameters:
        - name: id
          in: path
          type: string
          required: true
          description: Domain Id
        - name: resources
          in: body
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/DomainResource'
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/DomainResource'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - secu     
        - FAD.NAD:RW
        - enms
      produces:
        - application/json
      summary: 将资源移出域
      description: |
        将资源移出域
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 读写 |
      operationId: deleteDomainResources
      parameters:
        - name: id
          in: path
          type: string
          required: true
          description: Domain Id
        - name: resources
          in: body
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/DomainResource'
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/DomainResource'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/nads/domains/{id}/resources/type/{type}':
    get:
      tags:
        - secu     
        - FAD.NAD:R
        - enms
      produces:
        - application/json
      summary: 获取域内资源列表
      description: |
        获取域内资源列表
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 只读 |
      operationId: getDomainResourceByType
      parameters:
        - name: id
          in: path
          type: string
          required: true
          description: Domain Id
        - name: type
          in: path
          type: string
          description: |
            所支持的资源类型
              * 网元 (NES)
              * 连接 (CONN)
          required: true
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/DomainResource'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/nads/permissions':
    get:
      tags:
        - secu     
        - FAD.NAD:R
        - enms
      summary: 根据Token获取域权限信息
      description: |
        根据Token获取域权限信息(Token在请求Header："enmsToken"中填写)
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 只读 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: getUserNADPermissionsByToken
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Permission'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nads/permissionsWithSub':
    get:
      tags:
        - secu     
        - FAD.NAD:R
        - enms
      summary: 根据Token获取域及子域权限信息
      description: |
        根据Token获取域及子域权限信息(Token在请求Header："enmsToken"中填写)
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 只读 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: getUserNADPermissionsWithSubByToken
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Permission'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nads/users/{id}/permissions':
    get:
      tags:
        - secu     
        - FAD.NAD:R
        - enms
      summary: 根据用户Id获取域权限信息
      description: |
        根据用户Id获取域权限信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 只读 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: getUserNADPermissions
      parameters:
        - name: id
          in: path
          description: User Id
          required: true
          type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Permission'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/nads/roles/{id}/permissions':
    get:
      tags:
        - secu     
        - FAD.NAD:RW
        - enms
      summary: 根据角色获取域权限信息
      description: |
        根据角色获取域权限信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 只读 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: getNADPermissionsOfRole
      parameters:
        - name: id
          in: path
          description: Role Id
          required: true
          type: string
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Permission'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - secu     
        - FAD.NAD:RW
        - enms
      summary: 添加域权限到角色
      description: |
        添加域权限到角色
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: addNADPermissions
      parameters:
        - name: id
          in: path
          description: Role Id
          required: true
          type: string
        - name: permissions
          in: body
          description: Permission List
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/Permission'
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Role'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    put:
      tags:
        - secu     
        - FAD.NAD:RW
        - enms
      summary: 更新角色的域权限信息
      description: |
        更新角色的域权限信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: updateRoleNADPermissions
      parameters:
        - name: id
          in: path
          description: Role Id
          required: true
          type: string
        - name: permissions
          in: body
          description: Permission List
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/Permission'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Role'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - secu     
        - FAD.NAD:RW
        - enms
      summary: 删除角色的域权限
      description: |
        删除角色的域权限
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 域管理 | 读写 |
      produces:
        - application/json
      consumes:
        - application/json
      operationId: deleteRoleNADPermissions
      parameters:
        - name: id
          in: path
          description: Role Id
          required: true
          type: string
        - name: permissions
          in: body
          description: Permission List
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/Permission'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Role'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  #-------------------------------------------------------------
  # Topology
  #-------------------------------------------------------------
  '/topo/layer_rate':
    get:
      tags:
        - topo
        - FAD.CONF.TOPO:R
        - enms
      summary: 获取所有拓扑层速率
      description: |
        获取所有拓扑层速率
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.拓扑管理 | 只读 |
      produces:
        - application/json
      operationId: getSupportedTopoLayerRates
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              type: string
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - topo
        - FAD.CONF.TOPO:R
        - enms
      summary: 根据层速率获取拓扑图信息
      description: |
        根据层速率获取拓扑图信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.拓扑管理 | 只读 |
      produces:
        - application/json
      operationId: getTopoByLayerRates
      parameters:
        - name: layerRates
          in: body
          description: Layer Rates split by comma
          required: true
          schema:
            type: array
            items:
              type: string
              description: NE ID
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/TopoGraph'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/topo/nodes/{id}':
    get:
      tags:
        - topo
        - FAD.CONF.TOPO:R
        - enms
      summary: 获取拓扑节点信息
      description: |
        获取拓扑节点信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.拓扑管理 | 只读 |
      produces:
        - application/json
      operationId: getTopoNodeById
      parameters:
        - name: id
          in: path
          type: string
          required: true
          description: TopoNode Id
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/TopoNode'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/topo/nodes/{id}/coordinates/{x}/{y}':
    put:
      tags:
        - topo
        - FAD.CONF.TOPO:RW
        - enms
      summary: 更新拓扑节点坐标
      description: |
        更新拓扑节点坐标
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.拓扑管理 | 读写 |
      produces:
        - application/json
      operationId: updateTopoNodeCoordinates
      parameters:
        - name: id
          in: path
          description: TopoNode Id
          required: true
          type: string
        - name: x
          in: path
          description: Coordinate X
          required: true
          type: string
        - name: y
          in: path
          description: Coordinate Y
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/TopoNode'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/topo/topoconns/{id}':
    get:
      tags:
        - topo
        - FAD.CONF.TOPO:R
        - enms
      summary: 获取拓扑连接信息
      description: |
        获取拓扑连接信息
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.拓扑管理 | 只读 |
      produces:
        - application/json
      operationId: getTopoConnectionById
      parameters:
        - name: id
          in: path
          type: string
          required: true
          description: TopoConnection Id
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/TopoConnection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'

  '/topo/topoconns/{id}/connections':
    get:
      tags:
        - topo
        - FAD.CONF.TOPO:R
        - enms
      summary: 获取拓扑连接所对应的连接列表
      description: |
        获取拓扑连接所对应的连接列表
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.拓扑管理 | 只读 |
      produces:
        - application/json
      operationId: getConnectionsOfTopoConnection
      parameters:
        - name: id
          in: path
          description: TopoConnection Id
          required: true
          type: string
        - name: page
          in: query
          description: Page Number
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          description: Object Number per Page
          required: false
          type: integer
          format: int32
          default: 20          
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Connection'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'            

  #-------------------------------------------------------------
  # OTDR
  #-------------------------------------------------------------
  '/otdrs':
    get:
      tags:
        - oam
        - FAD.CONF.TP:R
        - enms
      summary: 查询otdr列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.TP管理 | 只读 |
      produces:
        - application/json
      operationId: getOtdrs
      parameters:
        - name: page
          in: query
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          required: false
          type: integer
          format: int32
          default: 20
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/OtdrRecord'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/otdrs/{otdrId}':
    get:
      tags:
        - oam
        - FAD.CONF.TP:R
        - enms
      summary: 查询otdr数据
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.TP管理 | 只读 |
      produces:
        - application/json
      operationId: getOtdrById
      parameters:
        - name: otdrId
          in: path
          description: otdr record Id
          required: true
          type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/OtdrRecord'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    post:
      tags:
        - oam
        - FAD.CONF.TP:RW
        - enms
      summary: 查询otdr列表
      description: |
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | 配置.TP管理 | 只读 |
      produces:
        - application/json
      operationId: decodeOTDRFile
      parameters:
        - name: otdrId
          in: path
          description: otdr record Id
          required: true
          type: string
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/OTDRSorData'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    put:
      tags:
        - oam
        - FAD.CONF.TP:RW
        - enms
      summary: 取消OTDR扫描
      description: |
        在给定Port上取消OTDR扫描
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | TP管理 | 读写 |
      produces:
        - application/json
      operationId: cancelOtdrScanById
      parameters:
        - name: otdrId
          in: path
          description: otdr record Id
          required: true
          type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
    delete:
      tags:
        - oam
        - FAD.CONF.TP:RW
        - enms
      summary: 删除otdr数据
      description: |
        删除指定的otdr数据
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | TP管理 | 读写 |
      produces:
        - application/json
      operationId: deleteOtdrById
      parameters:
        - name: otdrId
          in: path
          description: otdr record Id
          required: true
          type: string
      responses:
        '200':
          description: OK
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/otdrs/nes/{neId}':
    get:
      tags:
        - oam 
        - FAD.CONF.TP:R   
        - enms
      summary: 获取OTDR扫描记录
      description: |
        根据neId Id获取OTDR扫描记录
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | TP管理 | 只读 |
      produces:
        - application/json
      operationId: getOtdrsByNeId
      parameters:
        - name: page
          in: query
          required: false
          type: integer
          format: int32
          default: -1
        - name: num
          in: query
          required: false
          type: integer
          format: int32
          default: 20
        - name: neId
          in: path
          description: 网元Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/OtdrRecord'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/otdrs/nes/{neId}/tps/{tpId}':
    get:
      tags:
        - oam 
        - FFAD.CONF.TP:R   
        - enms
      summary: 获取OTDR扫描记录
      description: |
        根据neId Id获取OTDR扫描记录
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | TP管理 | 只读 |
      produces:
        - application/json
      operationId: getOtdrsByTpId
      parameters:
        - name: neId
          in: path
          description: 网元Id
          required: true
          type: string
        - name: tpId
          in: path
          description: Port Id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/OtdrRecord'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
  '/otdrs/nes/{neId}/scan/{tpId}/{direction}':
    post:
      tags:
        - oam
        - FAD.CONF.TP:RW
        - enms
      summary: 启动OTDR扫描
      description: |
        在给定Port上启动OTDR扫描
        ##### FAD控制
        | FAD域 | 权限 |
        | ----- | ---- |
        | TP管理 | 读写 |
      produces:
        - application/json
      operationId: startOTDRScanByPortId
      parameters:
        - name: neId
          in: path
          description: 网元Id
          required: true
          type: string
        - name: tpId
          in: path
          description: Port Id
          required: true
          type: string
        - name: direction
          in: path
          description: |
            OTDR扫描方向
                * 入 (IN)
                * 出 (OUT)
          required: true
          type: string
        - name: data
          in: body
          description: 扫描otdr需要的参数
          required: true
          schema:
            $ref: '#/definitions/OTDRScanProfile'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/OtdrRecord'
        '500':
          description: Internal Error
          schema:
            $ref: '#/definitions/ErrorInfo'
################################################################
# Model
################################################################
definitions:
  #-------------------------------------------------------------
  # Common Definition
  #-------------------------------------------------------------
  ErrorInfo:
    type: object
    description: 错误信息结构
    properties:
      code:
        type: string
        description: 错误代码
      message:
        type: string
        description: 错误信息文本
        example: NE %s creation error
      messageI18n:
        type: object
        description: I18N对照文本
        additionalProperties:
          type: string

  EntitySummary:
    type: object
    description: 汇总信息结构
    properties:
      key:
        type: string
        description: 汇总关键字
      sum:
        type: integer
        format: int32
        description: 汇总统计数量
      subSummary:
        type: array
        description: 子汇总信息
        items:
          $ref: "#/definitions/EntitySummary"

  StatisticsSummary:
    type: object
    description: 统计汇总信息结构
    properties:
      sum:
        type: integer
        format: int32
        description: 总数
      subSummary:
        type: array
        description: 子汇总信息
        items:
          $ref: "#/definitions/EntitySummary"
  
  KVPaires:
    type: object
    additionalProperties:
      type: object

  #-------------------------------------------------------------
  # eNMS System Definition
  #-------------------------------------------------------------
  Host:
    type: object
    description: '描述eNMS系统中的子系统实例，包括Controller, Adapter, DB等'
    properties:
      id:
        type: string
        description: '子系统实例Id'
      type:
        type: string
        description: '子系统类型'
        example: adapter
      ipAddress:
        type: string
        description: |
            '子系统地址： <IP>:<port>'
      notificationPort:
        type: string
        description: 通知端口

  #-------------------------------------------------------------
  # Business Entities
  #-------------------------------------------------------------
  Node:
    type: object
    properties:
      id:
        type: string
      userLabel:
        type: string
        description: 节点名称
      type:
        type: string
        description: 节点类型
      version:
        type: string
        description: 节点版本
      availableState:
        type: string
        description: 节点可用状态
        enum:
          - AVAILABLE
          - UNAVAILABLE
      vendor:
        type: string
        description: 节点供应商
        default: "NOKIA"
      nes:
        type: array
        description: 节点所包含的网元列表
        items:
          type: string
      params:
        type: object
        description: 附加信息
        additionalProperties:
          type: object
  Ne:
    type: object
    properties:
      id:
        type: string
        description: '网元Id'
      neFamily:
        type: string
        description: |
            网元家族
                * 1830PSS
      neType:
        type: string
        description: |
            网元类型
                * PSS-4
                * PSS-8
                * PSS-16
                * PSS-32
                * PSS-16II
                * OXC
                * PSI-2T
      neRelease:
        type: string
        description: 网元版本
#      actualNeRelease:
#        type: string
#        description: '实际的NE版本'
      neSoftwareRelase:
        type: string
        description: 网元软件版本
      userLabel:
        type: string
        description: |
            网元名称，可以是中文"
      nativeName:
        type: string
        description: |
            网元本地名称，网元内部使用的名称，必须为英文
      addresses:
        description: |
            网元Snmp地址，格式：
            "snmp": {"ip": "<ip>", "port": <port>}
        type: object
        additionalProperties:
          type: object
      location:
        type: string
        description: 网元所在地
      coordinates:
        $ref: "#/definitions/Coordinates"
        description: 网元地理坐标
      ntpServerList:
        type: array
        description: NTP服务器列表
        items:
          type: string
      ntpServerReachability:
        type: string
        description: NTP服务器可达性
      usmLink:
        type: string
        description: 开启网元管理界面的链接.'
      alarmState:
        type: string
        description: '(enum)0:cleared 1:indicator 2:warning 3:minor 4:major 5:critical'
        default: "CLEARED"
      lacState:
        type: string
      operationalState:
        type: string
        description: '(enum) 记录网管对Node下所有NE的操作状态。只要Node下的网元状态不一致，此状态为unknow. 0:idle 1:disable 2:<do>ing 3:unknow'
      supervisionState:
        type: string
        description: '(enum) 记录网管是否希望与Node下所有网元建立连接. 0:supervised 1:noSupervised 2:partial'
      maintenanceState:
        type: string
        description: '(enum) 反映与Node下所有网元是否处于维护期间，=True时，网管不处理此网元的告警信息. 0:true 1:false 2:partial'
        default: "TRUE"
      alignmentState:
        type: string
        description: '(enum)反映网管与Node下所有网元数据是否一致。当misaligned时，网管只对aligned的网元操作.0:aligned 1:misaligned 2:partial'
      communicationState:
        type: string
        description: '(enum)反映网管与Node下所有网元通信的实际情况.0:connected 1:disconnected 2:partial'
      params:
        type: object
        additionalProperties:
          type: object
      loginInfo:    
        type: object
        additionalProperties:
          type: string
      supportedTech:
        type: string
        description: 'PDH/SDH/ETH/WDM/IP 几种技术的组合，以逗号为分割.'
      creationTime:
        type: integer
        format: int64
        description: '网元创建时间.'
      tags:
        description: 用户自定义的标签、备注信息.
        type: array
        items:
          type: string
      pmState:
        type: string
        description: History PM Satete, ENUM(ENABLE, DISABLE), DEFAULT=DISABLE
      rack:
        type: string
        default: '1'
      nodeId:
        type: string
      domains:
        type: array
        items:
          $ref: '#/definitions/Domain'

  Tp:
    type: object
    description: 'Controller Model中TP只有PTP，无CTP信息， CTP相关的信息定义在Route.'
    properties:
      id:
        type: string
        description: '数据库ID.'
      parentTpId:
        type: string
      neId:
        type: string
        description: 'NE ID'
      userLabel:
        type: string
        example: '按照rack/shelf/slot/port的方式命名'
      nativeName:
        type: string
        description: "在网元ZIC/USM的名称"
      shelf:
        type: string
      slot:
        type: string
      name:
        type: string
      layerRates:
        type: array
        description: '此PTP支持的层速率列表'
        items:
          type: string
      moType:
        type: string
        description: '(enum) Managed Object Type'
      direction:
        type: string
        description: 'BI, Rx, Tx.'
      freeResources:  
        type: object
        additionalProperties:
          type: object
      tpType:
        type: string
        description: '(enum)0:PTP 1:CTP 2:FTP 3:LAG 4:lagMember.上报TP列表到GUI时，只输出PTP/LAG口。输出PTP/LAG口。'
      tpRole:
        type: array
        description: "tpRole[0]: Current, Potential. tpRole[1]: Virtual, Real. tpRole[1] 可以不存在"
        items:
          type: string
      primaryLayerRate:
        type: string
        description: "其主要作用的layerRate，与objectType类似"
      alarmState:
        type: string
        description: '(enum)0:cleared 1:indicator 2:warning 3:minor 4:major 5:critical'
        default: "CLEARED"
      ptpId:
        type: string
        description: '如果此TP是CTP，此值表明是那个PTP的CTP.'
      implementState:
        type: string
        description: '(enum) allocated, implemented, inService. It is internal management state of TP what should be created by Controller and configure it on NE.'
      adminState:
        type: string
        description: '(enum) Up, Down'
      params:
        type: object
        additionalProperties:
          type: object
      usage:
        type: string
        description: '(enum) idle, busy, partially busy'
      usageIn:
        type: string
        description: '(enum) idle, busy'
      usageOut:
        type: string
        description: '(enum) idle, busy'
      maintenanceState:
        type: string
      tags:
        description: '用户自定义的标签、备注信息.'
        type: array
        items:
          type: string
      nodeId:
        type: string

  Equipment:
    type: object
    description: '主要保存的是equipmentHolder信息，如果此holder加载了具体的板卡/模块信息，actualType有值。如果expectedType和actualType都是空表明此position上没有插盘。当acutalType非空时，params中包含：unitPartNumber， softwarePartNumber， serialNumber'
    properties:
      id:
        type: string
        description: '数据库ID.'
      neId:
        type: string
      position:
        type: string
        description: '编码格式为rack/shelf/slot/subSlot，rack，shelf必须有值.'
      shelf:
        type: string
      slot:
        type: string
      userLabel:
        type: string
      nativeName:
        type: string
      type:
        type: string
        description: '(enum)表明此记录描述的是什么内容,0:slot 1: subslot 2:board'
      expectedType:
        type: string
        description: '网元MIB中的值.'
      actualType:
        type: string
        description: '网元实际插的盘.'
      alarmState:
        type: string
        default: "CLEARED"
      params:
        type: object
        additionalProperties:
          type: object
      maintenanceState:
        type: string
        default: "TRUE"
      tags:
        description: '用户自定义的标签、备注信息.'
        type: array
        items:
          type: string
      rack:
        type: string
        default: '1'
      nodeId:
        type: string

  Connection:
    type: object
    properties:
      id:
        type: string
      userLabel:
        type: string
        description: '编码格式为rack/shelf/slot/subSlot，rack，shelf必须有值.'
      direction:
        type: string
        description: '(enum)单向/双向 0:UNI 1:BI'
      type:
        type: string
        description: '(enum).-1:other 0:Cable 1:Fiber 2:PDH 3:SDH 4:ETH 5:ISA-Q3 6:LAG 7:WDM 8:fiberCable .创建时UI提供初值，然后任何模块都不可修改此值. Cable连接指物理连接；PDH/SDH/ETH 指业务；LAG值LAG连接；ISA-Q3指ISA板卡到Q3的虚连接。UI不输出other/ISA-Q'
      bandWidth:
        type: string
        description: 'ETH业务提供CIR/PIR值；PDH业务取值：E1/E3/E4；SDH业务取值AU4, AU4-4C, AU4-16C, AU4-64C LAG取值为所有端口带宽总和。au4Trail取值AU4 ISA-Q3/other 为空 '
      cost:
        type: integer
        format: int32
        description: '默认值是20，其他取值参考NPA'
      topoType:
        type: string
        description: '(enum)0:p2p/1:p2mp /2:mp2mp'
      layerRates:
        type: array
        description: '此Connection的层速率'
        items:
          type: string
      primaryLayerRate:
        type: string
        description: "其主要作用的layerRate，与objectType类似"
      moType:
        type: string
        description: '(enum) Managed Object Type'
      protectionLevel:
        type: string
        description: '(enum)0:full 1:partial 2:no 3:degrade'
      workingRole:
        type: string
        description: '(enum)Normal/Main/Spare/NormalMember. 除下列情况外，workingRole=normal
           1. protectionType=Y-Cable|MSP时，其成员connection的workingRole分为main/spare
           2. protectionType=LAG|VCG时，其成员connection的workingRole取值NormalMember'
      protectionType:
        type: string
        description: '(enum)Nomal/Y-Cabel/SNCP/OLP/OMSP/OCHP/LAG/VCG/MSP'
      implementState:
        type: string
        description: '(enum)0:allocated 1:implemented 2:inService 3:partial.  allocated表示connection所需所有资源在网管侧已经保留;implemented表示所有资源下发网元，但没有投入服务;inService表明网元上资源已投入服务，即adminState=UP;partial:下发命令到网元是出现错误，错误具体信息存储在taskList'
      operationalState:
        type: string
        description: '(enum)当connection路由经过的某个网元operationalState=Disable时，此值为disable'
      alarmState:
        type: string
        description: '(enum)0:cleared 1:indicator 2:warning 3:minor 4:major 5:critical'
        default: "CLEARED"
      freeResources:  
        type: object
        description: '不同layerRate的PTP，提供的值不一样。其取值需要根据实际情况变化。如STM16的物理端口，-  没有承载任何业务时，freeResource=au64C=0, au16C=0, au4C=4, au4=16, tu3=16×3, tu12=63×16'
        additionalProperties:
          type: object
      # TODO: Route constraints
      # routeConstraints:
      #   type: array
      #   description: '这些限制条件在计算路由时用来传递选路由的限制条件；实际创建路由时仅用来表示该限制需保存到数据库中'
      #   items:
      #     $ref: '#/definitions/RouteConstraint'
      routes:
        type: array
        description: '创建路由的关键信息，Controller根据该信息来创建连接'
        items:
          $ref: '#/definitions/Route'
      clientList:
        type: array
        description: 'Connection的客户列表，取值为connection ID'
        items:
          $ref: '#/definitions/Connection'
      aendPoints:
        type: array
        description: the list of TP IDs
        items:
          $ref: '#/definitions/Tp'
      zendPoints:
        type: array
        description: the list of TP IDs
        items:
          $ref: '#/definitions/Tp'
      params:
        type: object
        additionalProperties:
          type: object
      creationTime:
        type: integer
        format: int64
        description: '创建时间.'
      createdBy:
        type: string
        description: '创建者信息'
      maintenanceState:
        type: string
        default: "FALSE"
      tags:
        description: '用户自定义的标签、备注信息.'
        type: array
        items:
          type: string
      mismatched:
        type: boolean
        description: 'mismatched告警标志，是否有mismatched告警'
      domains:
        type: array
        items:
          $ref: '#/definitions/Domain'

  Route:
    type: object
    description: '用于描述业务信号流向，资源占用情况。一条Connection由一个服务层提供支持，这个服务层的名称由layerRate确定。一个服务层由多个或一个serverID构成'
    properties:
      routeInfo:
        type: array
        items:
          $ref: '#/definitions/RouteInfo'
      role:
        type: string
        description: '(enum) 此路由在整个connectionID中的角色. 0:sncpMain/1:sncpSpare /2:sncpAdvance/3:leg /4:hub/5:spoke/6:hotbackup'

  RouteInfo:
    type: object
    properties:
      serverConnection:
        $ref: '#/definitions/Connection'
      usedResources:
        description: 'connectionID占用serverID的什么资源。不同的技术采用的编码格式不一样:SDH timeslot格式;ISA_Q3_Virtual position格式'
        type: object
        additionalProperties:
          type: string

  RouteConstraint:
    type: object
    description: '用于描述创建路由时，网管找路由的条件'
    properties:
#      connectionId:
#        type: integer
#        format: int32
#        description: '描述connectionID的路由限制'
      objectType:
        type: string
        description: '(enum)TP可以是某个特定时隙（CTP）Node/TP/connection'
      role:
        type: string
        description: |
          '(enum)0:useMain 1:usedSpare 2:notUsedMain 3:notUsedSpare 10:usedHub 11:usedSpoke 12:notUseHub 13:notUsedSpoke 没有保护的情况下选择main'
      resourceID:
        type: string
        description: '支持特定资源的ID'

  FlowRouteInfo:
    type: object
    properties:
      connectionId:
        type: string
      layeredFlow:
        type: array
        items:
          $ref: '#/definitions/LayeredFlowRouteInfo'
          

  LayeredFlowRouteInfo:
    type: object
    properties:
      layerRate:
        type: string
      routeInfo:
        $ref: '#/definitions/FlowRoute'
        description: a -> z route info
      reverseRouteInfo:
        $ref: '#/definitions/FlowRoute'
        description: z -> a route info
      protectionRouteInfo:
        $ref: '#/definitions/FlowRoute'
        description: protection a -> z route info
      protectionReverseRouteInfo:
        $ref: '#/definitions/FlowRoute'
        description: protection z -> a route info
        

  FlowRoute:
    type: object
    properties:
      nes:
        type: array
        items:
          $ref: '#/definitions/Ne'
      equipments:
        type: array
        items:
          $ref: '#/definitions/Equipment'
      tps:
        type: array
        items:
          $ref: '#/definitions/Tp'
      xcs:
        type: array
        items:
          $ref: '#/definitions/Xc'
      connections:
        type: array
        items:
          $ref: '#/definitions/Connection'
      pgs:
        type: array
        items:
          $ref: '#/definitions/Pg'
      Route:
        $ref: '#/definitions/Route'

  ConnectionLimit:
    type: object
    properties:
      bandWidth:
        type: array
        description: 'ETH业务提供CIR/PIR值；PDH业务取值：E1/E3/E4；SDH业务取值AU4, AU4-4C, AU4-16C, AU4-64C LAG取值为所有端口带宽总和。au4Trail取值AU4 ISA-Q3/other 为空 '
        items:
          type: string
      container:
        type: array
        description: '支持的容器'
        items:
          type: string

  Xc:
    type: object
    description: Corss Connection
    properties:
      id:
        type: string
      neId:
        type: string
      type:
        type: string
        description: '(enum)0:simple 1:sncp 2:leg 3:hub 4:spoke'
      userLabel:
        type: string
      nativeName:
        type: string
      layerRates:
        type: array
        description: '此PTP支持的层速率列表'
        items:
          type: string
      direction:
        type: string
        description: '(enum) 0-uni 1-bi'
      xcRole:
        type: string
        description: "(enum)0:flexiable, 1:fixed, 2:potential Flexiable/fixed 都是当前存在的交叉"
      aendPoints:
        type: array
        items:
          $ref: '#/definitions/Tp'
      zendPoints:
        type: array
        items:
          $ref: '#/definitions/Tp'
      implementState:
        type: string
        description: '(enum) allocated, implemented, inService. It is internal management state of TP what should be created by Controller and configure it on NE.'
      usedByConnection:
        type: string
        description: '描述此XC被那个connection使用'      
      params:
        type: object
        additionalProperties:
          type: object
      atpTimeslots:
        type: array
        description: the list of aTP's timeslots
        items:
          type: string
          description: 'WDM 中只出现在ODU交叉中，逗号分隔的整数值, SDH VC12 交叉字符串结构为（TU3/TU2/TU12）'
      ztpTimeslots:
        type: array
        description: the list of zTP's timeslots
        items:
          type: string
          description: 'WDM 中只出现在ODU交叉中，逗号分隔的整数值值, SDH VC12 交叉字符串结构为（TU3/TU2/TU12）'
      nodeId:
        type: string
          
  Pg:
    type: object
    description: PG model
    properties:
      id:
        type: string
      neId:
        type: string
      type:
        type: string
        description: '(enum)0: 1+1  1: N:1 2:2F-Ring 3:SNCP 4:Y-Cable'
      nmlId:
        type: string
        description: '如果是type=SNCP|Y-Cable, nmlID是connectionID. 否则指出与那个NPA相关（OTN中没有NPA）'
      userLabel:
        type: string
      nativeName:
        type: string
      layerRates:
        type: array
        description: '此PTP支持的层速率列表'
        items:
          type: string
      direction:
        type: string
        description: '(enum) 0-uni 1-bi'
      reversionMode:
        type: string
        description: '(enum)0:unknow 1:revertive 2:nonRevertive'
      wtrTime:
        type: string
      holdOffTime:
        type: string
      tpIds:
        type: array
        description: 'members in protection group order: clientTP (仅针对SNCP), mainTP，spareTP，westTP，eastTP'
        items:
          type: string
      switchData:
        $ref: "#/definitions/PgSwitchData"
      implementState:
        type: string
        description: '(enum) allocated, implemented, inService. It is internal management state of TP what should be created by Controller and configure it on NE.'
      params:
        type: object
        additionalProperties:
          type: object
      usage:
        type: string

  PgSwitchData:
    type: object
    description: 'Protection Switch data of PG'
    properties:
      switchStatus:
        type: string      
        description: '(enum)0:Unknown, 1:No Request, 2:Do Not Revert, 3:Reverse Request, 4:Wait to Restore, 5:Manual Switch, 6:Signal Degrade, 7:Signal Failure, 8:Forced Switch, 9:Protection Lockout'
      tpStatus:
        type: array
        items:
          $ref: "#/definitions/TpProtectionStatus"

  TpProtectionStatus:
    type: object
    description: 'Protection status of TP'
    properties:
      switchCmd:
        type: string
        description: '(enum)1:noCmd 2:clear 3:lockoutOfProtection 4:forcedSwitchWorkToProtect 5:forcedSwitchProtectToWork 6:manualSwitchWorkToProtect 7:manualSwitchProtectToWork 8:exercise'
      txStatus:
        type: string
        description: '(enum): active, standby'
      rxStatus:
        type: string
        description: '(enum): active, standby'   

  Q3Address:
    type: object
    properties:
      eqAddress:
        type: string
      osMain:
        type: string
      osSpare:
        type: string
  
  IpAddress:
    type: object
    properties:
      ip:
        type: string
      port:
        type: string

  IpAddressConfig:
    type: object
    properties:
      ip:
        type: string
      netmask:
        type: string
      gateway:
        type: string

  Coordinates:
    type: object
    description: The coordinates of the NE
    properties:
      geo:
        type: object
        properties:
          longitude:
            type: string
          latitude:
            type: string
      coordinate:
        type: object
        properties:
          x:
            type: string
          y:
            type: string              
    
  RIInfo:
    type: object
    properties:
      neId:
        type: string
      neUserLabel:
        type: string
      shelf:
        type: string
      slot:
        type: string 
      riType:
        type: string          
      objId:
        type: string 
      nodeLabel:
        type: string          
      objLabel:
        type: string         
      clei:
        type: string
      companyId:
        type: string  
      date:
        type: string         
      extraData:
        type: string
      factoryId:
        type: string  
      manufacturingPartNumber:
        type: string 
      mnemonic:
        type: string
      serialNumber:
        type: string  
      swPartNumber:
        type: string         
      params:
        type: object
        additionalProperties:
          type: object
          
  #-------------------------------------------------------------
  # Security
  #-------------------------------------------------------------
  LoginInfo:
    type: object
    properties:
      username:
        type: string
      password:
        type: string
      expired:
        type: string

  User:
    type: object
    properties:
      id:
        type: string
      name:
        type: string
      password:
        description: Password用在创建用户的时候输入初始密码。后续所有操作不在出现该属性。
        type: string
      mailAddr:
        type: string
      createDate:
        type: integer
        format: int64
      groups:
        type: array
        items:
          $ref: '#/definitions/UserGroup'
      roles:
        type: array
        items:
          $ref: '#/definitions/Role'
      salt:
        type: string
      filter:
          $ref: "#/definitions/AlarmFilter"
      setting:
        type: array
        items:
           $ref: "#/definitions/KVPaires"
    
  AlarmFilter:
    type: object
    properties:      
      eq:
        type: object
        additionalProperties:
          type: string
      ne:
        type: object
        additionalProperties:
          type: string
      recMsg:
        type: object
        additionalProperties:
          type: string
      in:
        type: object
        additionalProperties:
          $ref: '#/definitions/StringList'
      ni:
        type: object
        additionalProperties:
          $ref: '#/definitions/StringList'
  
  StringList:
    type: array
    items:
      type: string
  
  UserGroup: 
    type: object
    properties:
      id:
        type: string
      name:
        type: string
      users:
        type: array
        items:
          $ref: '#/definitions/User'
      roles:
        type: array
        items:
          $ref: '#/definitions/Role'
    
  Role:
    type: object
    properties:
      id:
        type: string
      name:
        type: string
      roleType:
        type: string        
      permissions:
        type: array
        items:
          $ref: '#/definitions/Permission'
        
  Permission:
    type: object
    properties:
      id:
        type: string
      accessRight:
        $ref: "#/definitions/AccessRight"
      resourceType:
        type: string
        description: (enum) FAD, NAD
      resource:
        type: string
        
  AccessRight:
    type: string
    default: NONE
    enum:
      - NONE
      - READ
      - READ_AND_WRITE
        

  #-------------------------------------------------------------
  # eNMS NAD Section
  #-------------------------------------------------------------
  Domain:
    type: object
    properties:
      id:
        type: string
      userLabel:
        type: string
      tags:
        type: array
        items:
          type: string
      subDomains:
        type: array
        items:
          $ref: '#/definitions/Domain'
      resources:
        type: array
        items:
          $ref: '#/definitions/DomainResource'
  
  DomainResource:
    type: object
    properties:
      resId:
        type: string
      resType:
        type: string
      res:
        type: object

  #-------------------------------------------------------------
  # Topology Graph
  #-------------------------------------------------------------
  TopoGraph:
    type: object
    properties:
      layerRates:
        type: array
        items:
          type: string
      nodes:
        type: array
        items:
          $ref: '#/definitions/TopoNode'
      connections:
        type: array
        items:
          $ref: '#/definitions/TopoConnection'

  TopoNode:
    type: object
    properties:
      id:
        type: string
      coordinates:
        $ref: "#/definitions/Coordinates"
      userLabel:
        type: string
      type:
        type: string
        description: (enum) NE, HOST etc.
      objectType:
        type: string
        description: Host类型, NE类型等。例如PSS32，LINUX VM等。 
      alarmState:
        type: string
      supervisionState:
        type: string
      maintenanceState:
        type: string
      alignmentState:
        type: string
      communicationState:
        type: string
      params:
        type: object
        additionalProperties:
          type: object
    
  TopoConnection:
    type: object
    properties:
      id:
        type: string
      nodeA:
        $ref: "#/definitions/TopoNode"
      nodeZ:
        $ref: "#/definitions/TopoNode"
      connections:
        type: array
        items:
          $ref: "#/definitions/Connection"
      layerRates:
        type: array
        items:
          type: string
      moType:
        type: string
      implementState:
        type: string
      alarmState:
        type: string
      params:
        type: object
        additionalProperties:
          type: object

  #-------------------------------------------------------------
  # OAM
  #-------------------------------------------------------------
  MaintainedObject:
    type: object
    properties:
      id:
        type: string
      type:
        type: string
        description: (enum) NE, Shelf, Equipment and TP
      userLabel:
        type: string
      expired:
        type: integer
        format: int64
        description: 'Maintenance State expired Time'
      creationTime:
        type: integer
        format: int64
        description: 'Time of enabling Maintenance State'
      children:
        type: array
        items:
          $ref: "#/definitions/MaintainedObject"
      params:
        type: object
        additionalProperties:
          type: object

  ###############################
  # OTDR object
  #-------------------------------
  OtdrRecord:
    type: object
    description: 'The history otdr record.'
    properties:
      _id:
        type: string
        description: '数据库ID，保持唯一'
      neId:
        type: string
        description: 'the ne id.'
      neFamily:
        type: string
        description: 'the ne family'
      neNativeName:
        type: string
      ptpId:
        type: string
        description: 'ptp id'
      ptpNativeName:
        type: string
      fileName:
        type: string
        description: 'otdr file name'
      fullName:
        type: string
        description: 'otdr full file name'
      scanProfileId:
        type: string
        description: 'otdr scan profile: 1 to 5'
      otdrDescription:
        type: string
      scanTime:
        type: integer
        format: int64
        description: 'the otdr start to scan time'
      scanDirection:
        type: string
        description: 'the otdr scan direction, IN or OUT'
      scanStatus:
        type: string
        description: 'the otdr scan stuts, busy or idle'
      scanProgress:
        type: string
        description: 'the scan progress. 0 to 100'
      scanResult:
        type: string
        description: 'the otdr scan result: complete, inProgress, noScan, fail, abort'
      timeRemaining:
        type: string
        description: 'the scan time remain. 0 to 300 second.'
      transferHost:
        type: string
        description: 'ftp server host'
      transferPath:
        type: string
        description: 'ftp server path'
      transferProtocol:
        type: string
        description: 'ftp or sftp'
      transferUser:
        type: string
        description: 'user name'
      transferPassword:
        type: string
        description: 'user password'
      localPath:
        type: string
        description: 'the local path in eNMS to store the otdr file'
      params:
        type: object
        additionalProperties:
          type: object
  OTDRScanProfile:
    type: object
    properties:
      profileId:
        type: string
        description: 'OTDR profile id. range: 1 to 6'
  OTDRScanConfig:
    type: object
    properties:
      profileId:
        type: string
        description: 'OTDR profile id. range: 1 to 6'
      fileName:
        type: string
        description: 'OTDR file name'
      otdrDescription:
        type: string
        description: 'OTDR description'
  OTDRUploadConfig:
    type: object
    properties:
      fileName:
        type: string
        description: 'OTDR file name'
      transferHost:
        type: string
        description: 'FTP/SFTP server address'
      transferPath:
        type: string
        description: 'store OTDR file to the path'
      transferProtocol:
        type: string
        description: '(enum)FTP, SFTP'
      transferUserId:
        type: string
        description: 'FTP/SFTP user name'
      transferPassword:
        type: string
        description: 'FTP/SFTP user password'

  OTDRDecodeConfig:
    type: object
    properties:
      fileName:
        type: string
        description: 'OTDR file name'

  OTDRSorData:
    type: object
    properties:
      record:
        type: object
        items:
          $ref: '#/definitions/OtdrRecord'
      range:
        type: string
        description: 'range'
      pulseWidth:
        type: string
        description: 'pulseWidth '
      waveLength:
        type: string
      frequency:
        type: string
      refraction:
        type: string
      length:
        type: string
      dataSpacing:
        type: string
      backscatterCoefficient:
        type: string
      lossThreshold:
        type: string
      reflectanceThreshold:
        type: string
      endOfFiberThreshold:
        type: string
      testTimestamp:
        type: string
      averageCount:
        type: string
      eteLoss:
        type: string
      eteMarkerStart:
        type: string
      eteMarkerFinish:
        type: string
      returnLoss:
        type: string
      rlMarkerStart:
        type: string
      rlMarkerFinish:
        type: string
      eventInfoTable:
        type: array
        items:
          $ref: '#/definitions/OTDRSorEvent'
      dots:
        type: array
        items:
          $ref: '#/definitions/OTDRSorDot'
  OTDRSorEvent:
    type: object
    description: otdr sensor event item
    properties:
      otdr_record_id:
        type: string
      associatedPortName:
        type: string
      eventNO:
        type: string
      eventName:
        type: string
      type:
        type: string
      eventLocation:
        type: string
      distanceToLastLocation:
        type: string
      eventLoss:
        type: string
      reflectance:
        type: string
      eventCode:
        type: string
      lmt:
        type: string
      possibleCause:
        type: string
      comment:
        type: string
      eventDesc:
        type: string
      typeDesc:
        type: string
      attenCoefficent:
        type: string
  OTDRSorDot:
    type: object
    description: otdr sensor dot
    properties:
      x:
        type: string
      y:
        type: string

  #-------------------------------------------------------------
  # PM
  #-------------------------------------------------------------
  PMP:
    type: object
    description: Performance Monitor Point.
    properties:
      tpid:
        type: string
      counters:
        type: array
        items:
          $ref: '#/definitions/PMCounter'          

  PMCounter:
    type: object
    description: PM Counter
    properties:
      name:
        type: string
      granularity15M:
        type: boolean
      granularity24H:
        type: boolean
      value:
        type: string
      counterId:
        type: string
      neId:
        type: string
      neUserLabel:
        type: string
      shelfId:
        type: string
      shelfUserLabel:
        type: string
      slotId:
        type: string
      slotUserLabel:
        type: string
      tpType:
        type: string
      ptpId:
        type: string
      ptpUserLabel:
        type: string
      ctpId:
        type: string
      ctpUserLabel:
        type: string

  PMCounterTree:
    type: object
    description: PM Counter Tree
    properties:
      granularity15M:
        type: boolean
      granularity24H:
        type: boolean
      value:
        type: string
      type:
        type: string
      objectId:
        type: string
      userLabel:
        type: string
      children:
        type: array
        items:
          $ref: "#/definitions/PMCounterTree"

  FocusedPMCounter:
    type: object
    description: Focused PM Counter
    properties:
      id:
        type: string
      neId:
        type: string
      neUserLabel:
        type: string
      shelfId:
        type: string
      shelfUserLabel:
        type: string
      slotId:
        type: string
      slotUserLabel:
        type: string
      tpId:
        type: string
      tpUserLabel:
        type: string
      counter:
        type: string

  ConnectionOpticalPower:
    type: object
    properties:
      neId:
        type: string
        description: 'ne ID'
      neType:
        type: string
        description: 'ne type'
      neNativeName:
        type: string
        description: 'ne native name'
      neUserlabel:
        type: string
        description: 'ne userlabel'
      xcPortPower:
        type: array
        items:
          $ref: "./common.model.yaml#/definitions/XcPortPower"

  ######################################
  # Alarm
  #-------------------------------------
  Alarm:
    type: object
    properties:
      _id:
        type: string
        description: '数据库ID，保持唯一'
      nativeAlarmId:
        type: string
        description: 'Alarm native unique Id for raised and cleared'
      objectType:
        type: string
        description: 'NE, eqpt, TP, connection'      
      objectId:
        type: string
        description: 'the alarmed object Id'
      parentId:
        type: string
        description: 'neId'        
      eventType:
        type: string
        description: 'communicationsAlarm, environmentalAlarm, equipmentAlarm, processingErrorAlarm, qualityofServiceAlarm'
        # enum: [COMMUNICATIONS, ENVIRONMENTAL, EQUIPMENT, PROCESSING_ERROR, QUALITYOF_SERVICE]
      severity:
        type: string
        description: 'severity of alarm: CRITICAL, MAJOR, MINOR, WARNING, INDETERMINATE, CLEARED'
      isCleared:
        type: string
        description: '是否为清除告警: true,false'
      nativeProbableCause:
        type: string
        description: '网元上报的告警原因'
      condType:
        type: string
        description: 'Condition Type'
      condTextI18n:
        type: object
        additionalProperties:
          type: string
      probableCauseType:
        type: string
        description: '告警大类（如URU，LOS等）'
      correlatedAlarms:
        type: array
        description: '根源告警，列表保存的是所有相关子告警ID。由于Adapter/Controller共用此定义。Adapter上报时此值可以为空'  
        items:
          type: string
      serviceAffecting:
        type: boolean
        description: '此告警是否影响业务，NE 告警提供'  
      params:
        type: object
        additionalProperties:
          type: object
      nmsRaiseTime:
        type: integer
        format: int64
        description: 'the time of the event on host, NE alarm is adapter time, Connection alarm is connection time'
      neRaiseTime:
        type: integer
        format: int64
        description: 'the time of the alarm on NE'
      nmsClearTime:
        type: integer
        format: int64
      neClearTime:
        type: integer
        format: int64
      clearBy:
        type: string
        description: '自动(问题处理后，NE发送alarmClear通告)清除为AUTO，手工强制清除时记录操作员名称。Adapter上报时，此字段为空'
      acknowledgeState:
        type: boolean
      acknowledgeTime:
        type: integer
        format: int64
        description: 'acknowledgement time。由于Adapter/Controller共用此定义。Adapter上报时此值为空'
      acknowledgeBy:
        type: string
        description: '记录发起acknowledge命令的操作员名称。由于Adapter/Controller共用此定义。Adapter上报时此值可以为空'
      nodeId:
        type: string

  alarmCondTypeSummary:
    type: object
    description: top 5 cond type's alarm number
    properties:
      autoActivate:
        type: string
        description: condition type
      force:
        type: integer
        format: int64
        description: alarm number

#################################
# NE software upgrade definitions
#--------------------------------
  SwUpgradeParams:
    type: object
    description: sw upgrade parameters
    properties:
      autoActivate:
        type: string
        description: 'enum: true, false'
      force:
        type: string
        description: 'enum: true, false'
      noBackup:
        type: string
        description: 'enum: true, false'
      workingReleaseDir:
        type: string
      ftpServerProtocol:
        type: string
        description: 'enum: ftp, sftp'
      swVersion:
        type: string
        description: 'NE software version'

  SwUpgradeStatus:
    type: object
    description: software upgrade status
    properties:
      lastOperationStatus:
        type: string
      lastOperationResult:
        type: string
      lastControlOperation:
        type: string
      workingReleaseDir:
        type: string
      activeRelease:
        type: string
      workingRelease:
        type: string
      committedRelease:
        type: string
      upgradePathAvailable:
        type: string
      ftpServerProtocol:
        type: string
        description: 'ftp or sftp'
      ftpServerIp:
        type: string
        description: 'FTP server IP'
      ftpServerUserId:
        type: string
        description: 'FTP server user ID'
      ftpServerRootDir:
        type: string
        description: 'FTP server root directory'

  SwUpgradeCmd:
    type: object
    properties:
      cmd:
        type: string
        description: '(enum):active, commit, revert, abort'
